---
TOCTitle: 'MS07-021'
Title: 'Бюллетень по безопасности (Майкрософт) MS07-021 - Критическое'
ms:assetid: 'ms07-021'
ms:contentKeyID: 61236180
ms:mtpsurl: 'https://technet.microsoft.com/ru-RU/library/ms07-021(v=Security.10)'
---

Security Bulletin

Бюллетень по безопасности (Майкрософт) MS07-021 - Критическое
=============================================================

Уязвимости в CSRSS делают возможным удаленное выполнение кода (930178)
----------------------------------------------------------------------

Дата публикации: 10 апреля 2007 г. | Дата обновления: 26 марта 2008 г.

**Версия:** 1.2

#### Заключение

**Для кого предназначен этот документ:** для пользователей Microsoft Windows

**Воздействие уязвимости:** удаленное выполнение кода

**Степень опасности:** Критический

**Рекомендация:** обновление следует установить немедленно.

**Замена обновлений безопасности:** Отсутствует

**Известные проблемы** В [статье 930178 базы знаний Майкрософт](http://support.microsoft.com/kb/930178) приведены известные на данный момент проблемы, с которыми можно столкнуться при установке этого обновления для системы безопасности. В этой статье также приводятся решения, рекомендованные для устранения этих проблем.

**Подвержены уязвимости:**

-   Microsoft Windows 2000 с пакетом обновления 4 (SP4) — [загрузить обновление](http://www.microsoft.com/downloads/details.aspx?familyid=909e3b63-4d11-4fe6-849f-1ce960eb62cd)
-   Microsoft Windows XP с пакетом обновления 2 (SP2) — [загрузить обновление](http://www.microsoft.com/downloads/details.aspx?familyid=69876449-25d1-41b4-b7c8-2b7fb40e59ee)
-   Microsoft Windows XP Professional x64 Edition и Microsoft Windows XP Professional x64 Edition с пакетом обновления 2 (SP2) — [загрузить обновление](http://www.microsoft.com/downloads/details.aspx?familyid=91fd8716-c1a2-434e-bed0-df9d01e3d685)
-   Microsoft Windows Server 2003, Microsoft Windows Server 2003 с пакетом обновления 1 (SP1), Microsoft Windows Server 2003 с пакетом обновления 2 (SP2) — [загрузить обновление](http://www.microsoft.com/downloads/details.aspx?familyid=4dac667d-b346-461e-8bb5-6112e946349f&displaylang=ru)
-   Microsoft Windows Server 2003 для платформы Itanium, Microsoft Windows Server 2003 с пакетом обновления 1 (SP1) для платформы Itanium и Microsoft Windows Server 2003 с пакетом обновления 2 (SP2) для платформы Itanium — [загрузить обновление](http://www.microsoft.com/downloads/details.aspx?familyid=639de6c7-0928-469a-be68-60ea391fa770)
-   Microsoft Windows Server 2003 x64 Edition и Microsoft Windows Server 2003 x64 Edition с пакетом обновления 2 (SP2) — [загрузить обновление](http://www.microsoft.com/downloads/details.aspx?familyid=69dbe4bc-05a5-450b-8c72-e431e800d4f3)
-   Windows Vista — [загрузить обновление](http://www.microsoft.com/downloads/details.aspx?familyid=3487b1f0-a383-41a4-a660-2768962b3bcd)
-   Windows Vista x64 Edition — [загрузить обновление](http://www.microsoft.com/downloads/details.aspx?familyid=c46f62e1-dddd-4886-a82b-ebec258a495b)

Корпорация Майкрософт проверила на наличие уязвимости продукты перечисленных выше версий. Прочие системы не подвержены уязвимости, или жизненные циклы их поддержки истекли. Для получения сведений о жизненном цикле поддержки используемой версии продукта посетите [веб-узел Microsoft Support Lifecycle](http://go.microsoft.com/fwlink/?linkid=21742).

### Общие сведения

Аннотация
---------

<span></span>
**Аннотация**

Данное обновление устраняет несколько недавно обнаруженных уязвимостей, о которых сообщалось в частном порядке и в открытых источниках. В данном бюллетене каждая из этих уязвимостей описана в отдельном подразделе в разделе «Сведения об уязвимости».

Воспользовавшись некоторыми из этих уязвимостей, злоумышленник может получить полный контроль над системой пользователя. Таким образом, злоумышленник сможет устанавливать программы, просматривать, изменять и уничтожать данные или создавать новые учетные записи с неограниченными полномочиями.

Корпорация Майкрософт рекомендует пользователям немедленно установить обновление.

**Уровень опасности и идентификатор уязвимости**

| Идентификаторы уязвимости                                                                                                                                        | Воздействие уязвимости             | Windows 2000 Professional с пакетом обновления 4 (SP4) | Windows 2000 Server с пакетом обновления 4 | Windows XP с пакетом обновления 2 (SP2) | Windows Server 2003, Windows Server 2003 с пакетом обновления 1 (SP1) и Windows Server 2003 с пакетом обновления 2 (SP2) | Windows Vista   |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|--------------------------------------------------------|--------------------------------------------|-----------------------------------------|--------------------------------------------------------------------------------------------------------------------------|-----------------|
| Уязвимость процесса MsgBox (CSRSS), приводящая к удаленному выполнению кода, — [CVE-2006-6696](http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=cve-2006-6696)  | удаленное выполнение кода          | Критический                                            | Критический                                | Критический                             | Критический                                                                                                              | Критический     |
| Уязвимость CSRSS, приводящая к несанкционированному получению локальных прав, — [CVE-2007-1209](http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=cve-2007-1209) | несанкционированное получение прав | Не подвержены уязвимости                               | Не подвержены уязвимости                   | Не подвержены уязвимости                | Не подвержены уязвимости                                                                                                 | Важно           |
| Уязвимость CSRSS, приводящая к отказу в обслуживании, — [CVE-2006-6797](http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=cve-2006-6797)                         | Отказ в обслуживании               | Низкий                                                 | Средний                                    | Низкий                                  | Средний                                                                                                                  | Низкий          |
| **Общий уровень опасности**                                                                                                                                      | ** **                              | **Критический**                                        | **Критический**                            | **Критический**                         | **Критический**                                                                                                          | **Критический** |

Данные [оценки](http://go.microsoft.com/fwlink/?linkid=21140) уровня опасности определены с учетом типов уязвимых систем, стандартных схем их развертывания и возможных результатов успешного использования описанной уязвимости.

**Примечание**. Уровни опасности для операционных систем, не относящихся к версии x86, соотносятся с уровнями опасности для операционных систем версий x86 следующим образом.

-   Уровни опасности для систем Windows XP Professional x64 Edition и Windows XP Professional x64 Edition с пакетом обновления 2 (SP2) совпадают с уровнем опасности для системы Windows XP с пакетом обновления 2 (SP2).
-   Уровень опасности системы Microsoft Windows Server 2003 для платформы Itanium совпадает с уровнем опасности систем Windows Server 2003.
-   Уровень опасности системы Microsoft Windows Server 2003 с пакетом обновления 1 (SP1) для платформы Itanium совпадает с уровнем опасности системы Windows Server 2003 с пакетом обновления 1 (SP1).
-   Уровень опасности для системы Windows Server 2003 с пакетом обновления 2 (SP2) для платформы Itanium совпадает с уровнем опасности для системы Windows Server 2003 с пакетом обновления 2 (SP2).
-   Уровень опасности системы Microsoft Windows Server 2003 x64 Edition совпадает с уровнем опасности системы Windows Server 2003 с пакетом обновления 1 (SP1).
-   Уровень опасности для системы Windows Server 2003 x64 Edition с пакетом обновления 2 (SP2) совпадает с уровнем опасности для системы Windows Server 2003 с пакетом обновления 2 (SP2).
-   Уровень опасности для системы Windows Vista x64 Edition совпадает с уровнем опасности для системы Windows Vista.

Вопросы и ответы о данном обновлении безопасности
-------------------------------------------------

<span></span>
**С какими известными проблемами могут столкнуться пользователи при установке этого обновления для системы безопасности?**
В [статье 930178 базы знаний Майкрософт](http://support.microsoft.com/kb/930178) приведены известные на данный момент проблемы, с которыми можно столкнуться при установке этого обновления для системы безопасности. К ним относятся: вывод пустого уведомления при попытке импортировать сертификат с помощью мастера импорта сертификатов, отсутствие уведомления о низком заряде батареи и ухудшение производительности систем Windows XP с пакетом обновления 2 (SP2) при появлении уведомления о низком заряде батареи. В этой статье также приводятся решения, рекомендованные для устранения этих проблем.

**Почему это обновление устраняет несколько уязвимостей системы безопасности, о которых уже сообщалось?**
Это обновление разработано для нескольких уязвимостей, поскольку для устранения их причин требуется выполнить изменения в связанных файлах. Вместо установки нескольких почти одинаковых обновлений пользователи могут установить только данное обновление.

**На моем компьютере установлена более ранняя версия программного обеспечения, описанного в этом бюллетене по безопасности. Что делать?**  
Поддерживаемые программные продукты, перечисленные в этом бюллетене, были проверены на наличие уязвимости. Жизненные циклы поддержки прочих версий программного обеспечения истекли. Для получения сведений о жизненном цикле поддержки используемой версии продукта посетите [веб-узел Microsoft Support Lifecycle](http://go.microsoft.com/fwlink/?linkid=21742).

Пользователям более ранних версий программного обеспечения следует срочно перейти на поддерживаемые версии, чтобы снизить вероятность наличия в системе уязвимостей. Для получения дополнительных сведений о жизненном цикле продуктов Windows посетите [веб-узел Microsoft Support Lifecycle](http://go.microsoft.com/fwlink/?linkid=21742). Для получения дополнительных сведений о продленном периоде поддержки обновления безопасности для данных версий операционных систем посетите [веб-узел службы технической поддержки продуктов Microsoft](http://go.microsoft.com/fwlink/?linkid=33328).

Для получения сведений о возможных вариантах обслуживания более ранних версий программного обеспечения свяжитесь с представителем группы по работе с заказчиками корпорации Майкрософт, ее техническим менеджером или представителем соответствующей партнерской компании Майкрософт. Пользователи, у которых нет договора типа Alliance, Premier или Authorized, могут обратиться в местное представительство корпорации Майкрософт. Для получения контактной информации посетите [веб-узел Microsoft Worldwide Information](http://go.microsoft.com/fwlink/?linkid=33329), выберите страну и затем нажмите кнопку **Go** (Переход), чтобы вывести список телефонных номеров. Дозвонившись, попросите связать вас с менеджером по продажам службы поддержки Premier. Дополнительную информацию можно получить в разделе[Windows Operating System Product Support Lifecycle FAQ](http://go.microsoft.com/fwlink/?linkid=33330).

**Можно ли определить необходимость установки этого обновления с помощью анализатора безопасности Microsoft Baseline Security Analyzer (MBSA)?**
В следующей таблице приведены сведения об обнаружении данного обновления безопасности с помощью программы MBSA.

| Продукт                                                                                                                                                                                                                   | MBSA 1.2.1 | MBSA 2.0.1                                       |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------|--------------------------------------------------|
| Microsoft Windows 2000 с пакетом обновления 4 (SP4)                                                                                                                                                                       | Да.        | Да.                                              |
| Microsoft Windows XP с пакетом обновления 2 (SP2);                                                                                                                                                                        | Да.        | Да.                                              |
| Microsoft Windows XP Professional x64 Edition и Microsoft Windows XP Professional x64 Edition с пакетом обновления 2 (SP2);                                                                                               | Нет.       | Да.                                              |
| Microsoft Windows Server 2003 с пакетом обновления 1 (SP1) и Microsoft Windows Server 2003 с пакетом обновления 2 (SP2)                                                                                                   | Да.        | Да.                                              |
| Microsoft Windows Server 2003 для платформы Itanium, Microsoft Windows Server 2003 с пакетом обновления 1 (SP1) для платформы Itanium и Microsoft Windows Server 2003 с пакетом обновления 2 (SP2) для платформы Itanium; | Нет.       | Да.                                              |
| Microsoft Windows Server 2003 x64 Edition и Microsoft Windows Server 2003 x64 Edition с пакетом обновления 2 (SP2);                                                                                                       | Нет.       | Да.                                              |
| Windows Vista                                                                                                                                                                                                             | Нет.       | **Примечание для системы WindowsVista** см. ниже |
| Windows Vista x64 Edition                                                                                                                                                                                                 | Нет.       | **Примечание для системы WindowsVista** см. ниже |

Дополнительные сведения см. на веб-узле [MBSA](http://go.microsoft.com/fwlink/?linkid=21134). Дополнительные сведения о программах, которые служба Microsoft Update и средство MBSA 2.0 на данный момент не обнаруживают, см. в [статье 895660 базы знаний Майкрософт](http://support.microsoft.com/kb/895660).

**Примечание для системы Windows** **Vista**. Анализатор безопасности MBSA 2.0.1 не поддерживается системой Windows Vista, но может выполнять удаленную проверку компьютеров, работающих под ее управлением. Дополнительные сведения о поддержке анализатора безопасности MBSA см. на веб-узле [MSBA](http://go.microsoft.com/fwlink/?linkid=21134). Также см. [статью базы знаний 931943](http://support.microsoft.com/kb/931943): поддержка анализатора безопасности Microsoft Baseline Security Analyzer (MBSA) для Windows Vista.

Дополнительные сведения см. в [статье 910723 базы знаний Майкрософт](http://support.microsoft.com/kb/910723). Обзор ежемесячных статей руководства по диагностике и развертыванию.

**Можно ли определить необходимость установки этого обновления с помощью сервера Systems Management Server (SMS)?**
В следующей таблице приведены сведения об обнаружении данного обновления безопасности с помощью программы SMS.

| Продукт                                                                                                                                                                                                                   | SMS 2.0 | SMS 2003 |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|----------|
| Microsoft Windows 2000 с пакетом обновления 4 (SP4)                                                                                                                                                                       | Да.     | Да.      |
| Microsoft Windows XP с пакетом обновления 2 (SP2);                                                                                                                                                                        | Да.     | Да.      |
| Microsoft Windows XP Professional x64 Edition и Microsoft Windows XP Professional x64 Edition с пакетом обновления 2 (SP2);                                                                                               | Нет.    | Да.      |
| Microsoft Windows Server 2003, Microsoft Windows Server 2003 с пакетом обновления 1 (SP1) и Microsoft Windows Server 2003 с пакетом обновления 2 (SP2)                                                                    | Да.     | Да.      |
| Microsoft Windows Server 2003 для платформы Itanium, Microsoft Windows Server 2003 с пакетом обновления 1 (SP1) для платформы Itanium и Microsoft Windows Server 2003 с пакетом обновления 2 (SP2) для платформы Itanium; | Нет.    | Да.      |
| Microsoft Windows Server 2003 x64 Edition и Microsoft Windows Server 2003 x64 Edition с пакетом обновления 2 (SP2)                                                                                                        | Нет.    | Да.      |

В пакетах Software Update Services (SUS) Feature Pack для серверов SMS 2.0 и SMS 2003 для поиска может использоваться средство MBSA 1.2.1. Поэтому на них распространяется то же ограничение относительно программ, не обнаруживаемых средством MBSA 1.2.1, о котором упоминалось ранее в данном бюллетене.

Для обнаружения обновлений для системы безопасности сервер SMS 2.0 может использовать пакет SMS SUS Feature Pack, в который входит средство Security Update Inventory Tool (SUIT). Средство SMS SUIT использует для обнаружения модуль MBSA 1.2.1. Для получения дополнительной информации о средстве SUIT посетите следующий [веб-узел корпорации Майкрософт](http://support.microsoft.com/kb/894154/). Дополнительные сведения об ограничениях средства SUIT см. в [статье 306460 базы знаний Майкрософт](http://support.microsoft.com/kb/306460/). В пакет SMS SUS Feature Pack также входит средство Microsoft Office Inventory Tool, позволяющее обнаруживать обновления для приложений Microsoft Office.

Сервер SMS 2003 может использовать средство SMS 2003 Inventory Tool for Microsoft Updates, чтобы обнаруживать обновления для системы безопасности, предлагаемые на веб-узле [Центра обновления Майкрософт](http://update.microsoft.com/microsoftupdate) и поддерживаемые службами [Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120). Для получения дополнительной информации о средстве SMS 2003 ITMU посетите следующий [веб-узел корпорации Майкрософт](http://go.microsoft.com/fwlink/?linkid=72181). Сервер SMS 2003 также может использовать средство Microsoft Office Inventory Tool для поиска необходимых обновлений для приложений Microsoft Office.

Для получения дополнительных сведений о SMS посетите [веб-узел SMS](http://go.microsoft.com/fwlink/?linkid=21158).

Дополнительные сведения см. в [статье 910723 базы знаний Майкрософт](http://support.microsoft.com/kb/910723). Обзор ежемесячных статей руководства по диагностике и развертыванию.

Сведения об уязвимости
----------------------

<span></span>
#### Уязвимость процесса MsgBox (CSRSS), приводящая к удаленному выполнению кода, — CVE-2006-6696

В способе, которым процесс Windows CSRSS обрабатывает сообщения об ошибках, существует уязвимость, приводящая к удаленному выполнению кода. Злоумышленник может воспользоваться ею, создав специально сконструированное приложение, которое сделает возможным удаленное выполнение кода.

Кроме того, если пользователь просмотрит специально созданный веб-узел, злоумышленник сможет получить полный контроль над системой.

#### Факторы, снижающие опасность уязвимости процесса MsgBox (CSRSS), приводящей к удаленному выполнению кода, — CVE-2006-6696

-   Чтобы воспользоваться данной уязвимостью на локальном компьютере, злоумышленник должен обладать действительными учетными данными и возможностью локального входа в систему. Данной уязвимостью не могут воспользоваться удаленные или анонимные пользователи.
-   В случае атаки через Интернет злоумышленник должен владеть веб-узлом, который содержит веб-страницу, предназначенную для использования этой уязвимости. Злоумышленник не может заставить пользователей посетить специальный веб-узел. Вместо этого ему необходимо склонить их к посещению данного веб-узла, убедив щелкнуть соответствующую ссылку. После выбора этой ссылки пользователям предлагается выполнить несколько действий. Атака может произойти только после того, как пользователь выполнит эти действия.

#### Методы обхода уязвимости процесса MsgBox (CSRSS), приводящей к удаленному выполнению кода, — CVE-2006-6696

Корпорацией Майкрософт не найдены методы обхода этой уязвимости.

#### Вопросы и ответы об уязвимости процесса MsgBox (CSRSS), приводящей к удаленному выполнению кода, — CVE-2006-6696

**Какова область воздействия данной уязвимости?**
Эта уязвимость связана с запуском программного кода в удаленном режиме. Воспользовавшись этой уязвимостью, злоумышленник может в удаленном режиме захватить полный контроль над системой, Таким образом, злоумышленник сможет устанавливать программы, просматривать, изменять и уничтожать данные или создавать новые учетные записи с неограниченными полномочиями.

**В чем причина уязвимости?**
Уязвимость вызвана неправильной обработкой подсистемой Windows CSRSS сообщений об ошибках.

**Что такое Client/Server Run-time Subsystem?**
CSRSS — это часть пользовательского режима подсистемы Win32. Аббревиатура CSRSS означает клиент-серверная подсистема времени выполнения. Это очень важная подсистема, которая должна функционировать постоянно. CSRSS отвечает за окна консолей, создание и удаление потоков.

**Что может сделать злоумышленник, воспользовавшись этой уязвимостью?**
Воспользовавшись уязвимостью, злоумышленник может захватить полный контроль над системой.

**Кто может воспользоваться этой уязвимостью?**
В случае атаки через Интернет злоумышленник должен владеть веб-узлом, содержащим веб-страницу, предназначенную для использования этой уязвимости. Злоумышленник не может заставить пользователей посетить специальный веб-узел. Вместо этого он старается склонить его посетить веб-узел, убеждая, как правило, щелкнуть ссылку. Специально созданное веб-содержимое можно также отобразить и передать на уязвимые системы посредством рекламных объявлений или иными способами.

Уязвимостью также можно воспользоваться, войдя на локальный компьютер и запустив специально созданное приложение.

**Какие системы подвергаются риску воздействия этой уязвимости в первую очередь?**
Вредоносное событие возможно, когда пользователь входит на локальный компьютер и запускает специально созданное приложение или посещает веб-узел.

Поэтому все системы, в которых часто используется обозреватель Internet Explorer или несколько пользователей имеют разрешения локального входа и запуска ненадежных приложений (например рабочие станции или серверы терминалов), наиболее подвержены этой уязвимости.

**Можно ли воспользоваться данной уязвимостью через Интернет?**
Да. Злоумышленник может попытаться воспользоваться данной уязвимостью через Интернет. Стандартные параметры конфигурации брандмауэра позволяют защитить от атак из Интернета. Корпорация Майкрософт предоставляет сведения, помогающие защитить персональный компьютер. Конечные пользователи могут обратиться на [веб-узел Защитите свой компьютер](http://go.microsoft.com/fwlink/?linkid=21169). ИТ-профессионалы могут обратиться на [веб-узел Security Guidance Center](http://go.microsoft.com/fwlink/?linkid=21171).

**Как действует обновление?**
Обновление устраняет уязвимость, изменяя способ, которым подсистема CSRSS обрабатывает сообщения об ошибках.

**Было ли объявлено об уязвимости до выпуска этого бюллетеня по безопасности?**
Да. Хотя исходное сообщение об уязвимости было получено в результате компетентного обнаружения, позже о ней сообщалось в открытых источниках другим исследователем в области безопасности. Этой уязвимости был присвоен классификационный номер [CVE-2006-6696](http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=cve-2006-6696). В широких кругах сообщества безопасности ее также называют уязвимостью типа Zero-Day, связанной с повреждением памяти в Vista. Данный бюллетень описывает уязвимость, о которой сообщалось в открытых источниках, а также дополнительные проблемы, которые были обнаружены в результате внутреннего исследования.

**Получала ли корпорация Майкрософт к моменту выпуска этого бюллетеня по безопасности какие-либо сведения о том, что уязвимость была использована злоумышленниками?**
Нет. Корпорация Майкрософт знает об опубликованных примерах концептуального кода, но она не получала никакой информации, указывающей на то, что эта уязвимость была открыто использована для атак на пользователей к моменту первоначального выпуска этого бюллетеня безопасности.

**Помогает ли установка этого обновления для системы безопасности защититься от атак с применением кода, опубликованного в открытых источниках и использующего данную уязвимость?**  
Это обновление безопасности устраняет уязвимость, которую можно использовать с помощью опубликованного концептуального кода. Ей присвоен классификационный номер [CVE-2006-6696](http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=cve-2006-6696).

#### Уязвимость CSRSS, приводящая к несанкционированному получению локальных прав, — CVE-2007-1209

В способе обработки подсистемой Windows 32 CSRSS подключений при загрузке и остановке процессов существует уязвимость несанкционированного получения прав.

#### Факторы, снижающие опасность уязвимости CSRSS, приводящей к несанкционированному получению локальных прав, — CVE-2007-1209

Чтобы воспользоваться данной уязвимостью, злоумышленник должен обладать действительными учетными данными и возможностью локального входа в систему. Данной уязвимостью не могут воспользоваться удаленные или анонимные пользователи.

#### Методы обхода уязвимости CSRSS, приводящей к несанкционированному получению локальных прав, — CVE-2007-1209

Корпорацией Майкрософт не найдены методы обхода этой уязвимости.

#### Вопросы и ответы об уязвимости CSRSS, приводящей к несанкционированному получению локальных прав, — CVE-2007-1209

**Какова область воздействия данной уязвимости? **
Эта уязвимость может приводить к повышению уровня прав. Воспользовавшись этой уязвимостью, злоумышленник может захватить полный контроль над системой, Таким образом, злоумышленник сможет устанавливать программы, просматривать, изменять и уничтожать данные или создавать новые учетные записи с неограниченными полномочиями. Чтобы воспользоваться уязвимостью, злоумышленник должен зарегистрироваться в локальной системе и запустить программу.

**В чем причина уязвимости? **
Уязвимость вызвана неправильной передачей системных ресурсов подсистемой Client/Server Run-time Subsystem.

**Что такое Client/Server Run-time Subsystem? **
CSRSS — это часть пользовательского режима подсистемы Win32. Аббревиатура CSRSS означает клиент-серверная подсистема времени выполнения. Это очень важная подсистема, которая должна функционировать постоянно. CSRSS отвечает за окна консолей, создание и удаление потоков.

**Что может сделать злоумышленник, воспользовавшись этой уязвимостью? **
Воспользовавшись уязвимостью, злоумышленник может захватить полный контроль над системой.

**Какие системы подвергаются риску воздействия этой уязвимости в первую очередь? **
Этой уязвимости наиболее подвержены системы, в которых разрешения локального входа и запуска ненадежных приложений имеют несколько пользователей.

**Можно ли воспользоваться данной уязвимостью через Интернет? **
Нет. Злоумышленник должен зарегистрироваться в конкретной системе, на которую нацелена атака. Используя данную уязвимость, злоумышленник не может загрузить и запустить программу удаленно.

**Как действует обновление? **
Обновление устраняет уязвимость, проверяя, должным ли образом подсистема CSRSS освободила ресурсы памяти после их использования.

**Было ли объявлено об уязвимости до выпуска этого бюллетеня по безопасности? **
Нет. Корпорация Майкрософт получила сведения об этой уязвимости из достоверных источников.

#### Уязвимость CSRSS, приводящая к отказу в обслуживании, — CVE-2006-6797

В способе, которым подсистема CSRSS обрабатывает сообщения об ошибках, существует уязвимость, приводящая к отказу в обслуживании. Злоумышленник может воспользоваться ею, запустив специально сконструированное приложение, которое приводит к перезагрузке системы.

#### Факторы, снижающие опасность уязвимости CSRSS, приводящей к отказу в обслуживании, — CVE-2006-6797

Чтобы воспользоваться данной уязвимостью, злоумышленник должен обладать действительными учетными данными и возможностью локального входа в систему. Данной уязвимостью не могут воспользоваться удаленные или анонимные пользователи.

#### Методы обхода уязвимости CSRSS, приводящей к отказу в обслуживании, — CVE-2006-6797

Корпорацией Майкрософт не найдены методы обхода этой уязвимости.

#### Вопросы и ответы об уязвимости CSRSS, приводящей к отказу в обслуживании, — CVE-2006-6797

**Какова область воздействия данной уязвимости?**
Эта уязвимость позволяет провести атаку типа «отказ в обслуживании». Воспользовавшись данной уязвимостью, злоумышленник может заставить систему не отвечать на запросы и автоматически перезапускаться. Обратите внимание, что уязвимость, приводящая к отказу в обслуживании, не даст злоумышленнику выполнить код или несанкционированно получить права, но может привести к тому, что система перестанет отвечать на запросы.

**В чем причина уязвимости?**
Уязвимость вызвана неправильной обработкой ошибок подсистемой CSRSS.

**Что такое Client/Server Run-time Subsystem?**
CSRSS — это часть пользовательского режима подсистемы Win32 (файл Win32.sys является частью режима ядра). Аббревиатура CSRSS означает клиент-серверная подсистема времени выполнения. Это очень важная подсистема, которая должна функционировать постоянно. CSRSS отвечает за окна консолей, создание и удаление потоков.

**Что может сделать злоумышленник, воспользовавшись этой уязвимостью?**
Воспользовавшись этой уязвимостью, злоумышленник может заставить систему перестать отвечать на запросы.

**Кто может воспользоваться этой уязвимостью?**
Чтобы воспользоваться этой уязвимостью, злоумышленник должен войти в локальную систему и запустить программу.

**Каким образом злоумышленник может воспользоваться уязвимостью?**
Чтобы воспользоваться данной уязвимостью, злоумышленник должен вначале зарегистрироваться в системе. После этого он может запустить специально созданное приложение, которое позволит воспользоваться уязвимостью и заставить систему перестать отвечать на запросы и перезагружаться.

**Какие системы подвергаются риску воздействия этой уязвимости в первую очередь?**
Этой уязвимости наиболее подвержены системы, в которых разрешения локального входа и запуска ненадежных приложений имеют несколько пользователей.

**Можно ли воспользоваться данной уязвимостью через Интернет?**
Нет. Злоумышленник должен зарегистрироваться в конкретной системе, на которую нацелена атака. Используя данную уязвимость, злоумышленник не может загрузить и запустить программу удаленно.

**Как действует обновление?**
Обновление устраняет уязвимость, проверяя, правильно ли подсистема Client/Server Run-time Subsystem обрабатывает сообщения об ошибках.

**Получала ли корпорация Майкрософт к моменту выпуска этого бюллетеня по безопасности какие-либо сведения о том, что уязвимость была использована злоумышленниками?**
Нет. Корпорация Майкрософт знает об опубликованных примерах концептуального кода, но она не получала никакой информации, указывающей на то, что эта уязвимость была открыто использована для атак на пользователей к моменту первоначального выпуска этого бюллетеня безопасности.

**Помогает ли установка этого обновления для системы безопасности защититься от атак с применением кода, опубликованного в открытых источниках и использующего данную уязвимость?**  
Это обновление безопасности устраняет уязвимость, которую можно использовать с помощью опубликованного концептуального кода. Ей присвоен классификационный номер [CVE-2006-6797](http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=cve-2006-6797).

Сведения об обновлении для системы безопасности
-----------------------------------------------

<span></span>
**Подвержены уязвимости:**

Чтобы получить сведения о нужной версии обновления для системы безопасности, щелкните соответствующую ссылку.

#### Windows 2000 (все версии)

**Необходимые условия**
При установке в системе Windows 2000 это обновление требует наличия пакета обновления 4 (SP4). Данное обновление безопасности требует установки Small Business Server 2000 с пакетом обновления 1a (SP1a) или Small Business Server 2000 с системой Windows 2000 Server с пакетом обновления 4 (SP4).

Корпорация Майкрософт проверила на наличие уязвимости продукты указанных выше версий. Другие версии больше не поддерживаются либо не являются уязвимыми. Для получения сведений о жизненном цикле поддержки используемой версии продукта посетите [веб-узел Microsoft Support Lifecycle](http://go.microsoft.com/fwlink/?linkid=21742).

Сведения о получении пакета обновления последней версии см. в [статье 260910 базы знаний Майкрософт](http://support.microsoft.com/kb/260910).

**Включение в будущие пакеты обновления**
Выпуск пакетов обновления для данной операционной системы больше не планируется. Обновление безопасности для этой проблемы может войти в будущий накопительный пакет обновления.

**Сведения об установке**

Обновление для системы безопасности поддерживает следующие параметры командной строки.

<table class="dataTable">
<caption>
Поддерживаемые параметры установки программы обновления безопасности
</caption>
<tr class="thead">
<th style="border:1px solid black;" >
Параметр
</th>
<th style="border:1px solid black;" >
Описание
</th>
</tr>
<tr>
<td style="border:1px solid black;">
**/help**
</td>
<td style="border:1px solid black;">
Отображает параметры командной строки.
</td>
</tr>
<tr>
<th colspan="2">
Режимы установки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/passive**
</td>
<td style="border:1px solid black;">
Автоматический режим установки. Вмешательства пользователя не требуется, но отображается состояние установки. Если по окончании установки требуется перезагрузка, на экране появится диалоговое окно, предупреждающее о перезагрузке компьютера через 30 секунд.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/quiet**
</td>
<td style="border:1px solid black;">
Полностью автоматический (тихий) режим. Режим, аналогичный автоматическому, но без отображения состояния или сообщений об ошибках.
</td>
</tr>
<tr>
<th colspan="2">
Параметры перезагрузки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/norestart**
</td>
<td style="border:1px solid black;">
После установки перезагрузка компьютера не выполняется.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/forcerestart**
</td>
<td style="border:1px solid black;">
Перезагружает компьютер после установки и принудительно закрывает все приложения без предварительного сохранения открытых файлов.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/warnrestart\[:x\]**
</td>
<td style="border:1px solid black;">
Выводит диалоговое окно, предупреждающее пользователя о том, что компьютер будет перезагружен через *x* секунд. (Значение по умолчанию — 30 секунд.) Используется с параметрами **/quiet** или **/passive**.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/promptrestart**
</td>
<td style="border:1px solid black;">
Отображает диалоговое окно с запросом на перезагрузку.
</td>
</tr>
<tr>
<th colspan="2">
Специальные параметры
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/overwriteoem**
</td>
<td style="border:1px solid black;">
Заменяет файлы OEM без вывода соответствующего запроса.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/nobackup**
</td>
<td style="border:1px solid black;">
Не создает резервных копий файлов на случай удаления.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/forceappsclose**
</td>
<td style="border:1px solid black;">
Завершает работу других программ перед выключением компьютера.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/log:path**
</td>
<td style="border:1px solid black;">
Обеспечивает переадресацию файлов журнала установки.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/integrate:path**
</td>
<td style="border:1px solid black;">
Интегрирует обновление в исходные файлы Windows. Путь доступа к этим файлам указан в параметре.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/extract\[:path\]**
</td>
<td style="border:1px solid black;">
Извлекает файлы без запуска программы установки.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/ER**
</td>
<td style="border:1px solid black;">
Создает расширенные отчеты об ошибках.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/verbose**
</td>
<td style="border:1px solid black;">
Обеспечивает подробное протоколирование в журнале. Во время установки создает журнал %Windir%\\CabBuild.log. В этом журнале приводится информация о копируемых файлах. Использование этого параметра может замедлить процесс установки.
</td>
</tr>
</table>
 
**Примечание.** Несколько параметров можно использовать в одной командной строке. Для обеспечения обратной совместимости обновлениями безопасности поддерживаются параметры, которые использовались в программе установки более ранней версии. Дополнительные сведения о поддерживаемых параметрах установки можно найти в [статье 262841 базы знаний Майкрософт](http://support.microsoft.com/kb/262841). Для получения подробной информации о программе установки Update.exe посетите [веб-узел Microsoft TechNet](http://go.microsoft.com/fwlink/?linkid=38951). Для получения подробных сведений о терминологии, встречающейся в этом бюллетене, например, *исправление*, обратитесь к [статье 824684 базы знаний Майкрософт](http://support.microsoft.com/kb/824684).

**Сведения о развертывании**

Чтобы установить обновление безопасности без вмешательства пользователя на компьютере под управлением Windows 2000 с пакетом обновления 4 (SP4), введите следующую команду:

**Windows2000-kb930178-x86-enu /quiet**

**Примечание.** Использование параметра **/quiet** приведет к отключению всех сообщений. Сообщения об ошибках также не будут выводиться. При использовании параметра **/quiet** администратор должен проверить успешность установки при помощи какого-либо из поддерживаемых методов. Кроме того, необходимо проверить файл KB930178.log на наличие сообщений о сбое.

Чтобы установить обновление безопасности на компьютере под управлением Windows 2000 с пакетом обновления 4 (SP4) без последующей перезагрузки, введите следующую команду:

**Windows2000-kb930178-x86-enu /norestart**

Сведения о развертывании данного обновления с помощью служб Software Update Services см. на [веб-узле Software Update Services](http://go.microsoft.com/fwlink/?linkid=21125). Для получения дополнительной информации о развертывании данного обновления безопасности с помощью служб Windows Server Update Services посетите[веб-узел служб Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120). Это обновление будет также доступно [на веб-узле Центра обновления Майкрософт](http://update.microsoft.com/microsoftupdate).

**Необходимость перезагрузки**

После установки обновления компьютер необходимо перезагрузить.

Для удаления обновления для системы безопасности воспользуйтесь компонентом "Установка и удаление программ" панели управления.

Кроме того, системные администраторы могут использовать для этой цели программу Spuninst.exe. Программа Spuninst.exe находится в папке %Windir%\\$NTUninstallKB930178$\\Spuninst.

<table class="dataTable">
<caption>
Поддерживаемые параметры Spuninst.exe
</caption>
<tr class="thead">
<th style="border:1px solid black;" >
Параметр
</th>
<th style="border:1px solid black;" >
Описание
</th>
</tr>
<tr>
<td style="border:1px solid black;">
**/help**
</td>
<td style="border:1px solid black;">
Отображает параметры командной строки.
</td>
</tr>
<tr>
<th colspan="2">
Режимы установки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/passive**
</td>
<td style="border:1px solid black;">
Автоматический режим установки. Вмешательства пользователя не требуется, но отображается состояние установки. Если по окончании установки требуется перезагрузка, на экране появится диалоговое окно, предупреждающее о перезагрузке компьютера через 30 секунд.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/quiet**
</td>
<td style="border:1px solid black;">
Полностью автоматический (тихий) режим. Режим, аналогичный автоматическому, но без отображения состояния или сообщений об ошибках.
</td>
</tr>
<tr>
<th colspan="2">
Параметры перезагрузки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/norestart**
</td>
<td style="border:1px solid black;">
После установки перезагрузка компьютера не выполняется.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/forcerestart**
</td>
<td style="border:1px solid black;">
Перезагружает компьютер после установки и принудительно закрывает все приложения без предварительного сохранения открытых файлов.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/warnrestart\[:x\]**
</td>
<td style="border:1px solid black;">
Выводит диалоговое окно, предупреждающее пользователя о том, что компьютер будет перезагружен через *x* секунд. (Значение по умолчанию — 30 секунд.) Используется с параметрами **/quiet** или **/passive**.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/promptrestart**
</td>
<td style="border:1px solid black;">
Отображает диалоговое окно с запросом на перезагрузку.
</td>
</tr>
<tr>
<th colspan="2">
Специальные параметры
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/forceappsclose**
</td>
<td style="border:1px solid black;">
Завершает работу других программ перед выключением компьютера.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/log:path**
</td>
<td style="border:1px solid black;">
Обеспечивает переадресацию файлов журнала установки.
</td>
</tr>
</table>
 
**Сведения о файлах**

Английская версия обновления содержит версии файлов, приведенные в следующей таблице. Дата и время указаны в формате всемирного универсального времени (UTC). При просмотре сведений о файле в системе производится перевод соответствующих значений в местное время. Чтобы определить разницу между временем по Гринвичу и местным временем, воспользуйтесь вкладкой **Часовой пояс** компонента Дата и время панели управления.

Windows 2000 с пакетом обновления 4 (SP4) и Small Business Server 2000:

| Имя файла  | Версия        | Date        | Время | Размер  | Папка   |
|------------|---------------|-------------|-------|---------|---------|
| winsrv.dll | 5.0.2195.7135 | 13-мар-2007 | 09:44 | 245 520 | .       |
| winsrv.dll | 5.0.2195.7135 | 13-мар-2007 | 09:44 | 245 520 | uniproc |

**Проверка успешного применения обновления**

-   **Программа Microsoft Baseline Security Analyzer**

    Для проверки успешного применения обновления безопасности можно воспользоваться средством Microsoft Baseline Security Analyzer (MBSA). См. пункт "Можно ли определить необходимость установки этого обновления с помощью анализатора безопасности Microsoft Baseline Security Analyzer (MBSA)?" в разделе "Часто задаваемые вопросы об этом обновлении безопасности" данного бюллетеня.

-   **Проверка версий файлов**

    **Примечание.** На каждом конкретном компьютере эти действия определяются установленной версией операционной системы Microsoft Windows. В случае затруднений для выполнения процедуры обратитесь к документации по установленной версии продукта.

    1.  Нажмите кнопку **Пуск** и выберите пункт **Найти**.
    2.  На панели **Результаты поиска** в области **Помощник по поиску** выберите пункт **Файлы и папки**.
    3.  В области **Часть имени или имя файла целиком** введите имя файла из соответствующей справочной таблицы по файлам и нажмите кнопку **Найти**.
    4.  В списке файлов щелкните правой кнопкой мыши имя файла из соответствующей таблицы сведений о файлах и выберите **Свойства**.
        **Примечание.** В зависимости от версии операционной системы или установленных программ некоторые из файлов, перечисленных в таблице сведений о файлах, могут быть не установлены.
    5.  На вкладке **Версия** определите версию файла, устанавливаемого на компьютере, сравнив ее с версией, приведенной в соответствующей таблице сведений о файлах.
        **Примечание**. Все атрибуты, кроме версии файла, в ходе установки могут изменяться. Проверка того, что обновление было применено, путем сравнения других атрибутов файла с данными из таблицы сведений о файлах не поддерживается. Кроме того, при определенных условиях файлы в ходе установки могут быть переименованы. Если сведения о файле или версии отсутствуют, обратитесь к другим доступным методам проверки установки обновления.

-   **Проверка параметров системного реестра**

    Проверьте также установленные обновлением файлы в следующем разделе реестра:

    HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Updates\\Windows 2000\\SP5\\KB930178\\Filelist

    **Примечание.** Этот раздел реестра может не содержать полного списка установленных файлов. Кроме того, этот раздел реестра может быть создан неправильно, если администратор или OEM-производитель интегрирует или добавляет в исходные установочные файлы Windows обновление системы безопасности.

#### Windows XP (все версии)

**Необходимые условия**
Это обновление для системы безопасности требует наличия системы Windows XP с пакетом обновления 2 (SP2) или Windows XP Professional x64 Edition. Дополнительные сведения о получении последнего пакета обновления для системы Windows XP см. в [статье 322389 базы знаний Майкрософт](http://support.microsoft.com/kb/322389). Дополнительные сведения о получении пакета обновления 2 (SP2) для системы Windows XP Professional x64 Edition см. на веб-узле [центра загрузки](http://www.microsoft.com/downloads/details.aspx?familyid=893fd6c0-6283-44c3-bb84-b2f0315b2ae6&displaylang=en).

**Включение в будущие пакеты обновления**
Обновление для устранения этой уязвимости будет включено в следующий пакет обновления или сборник обновлений.

**Сведения об установке**

Обновление для системы безопасности поддерживает следующие параметры командной строки.

<table class="dataTable">
<caption>
Поддерживаемые параметры установки программы обновления безопасности
</caption>
<tr class="thead">
<th style="border:1px solid black;" >
Параметр
</th>
<th style="border:1px solid black;" >
Описание
</th>
</tr>
<tr>
<td style="border:1px solid black;">
**/help**
</td>
<td style="border:1px solid black;">
Отображает параметры командной строки.
</td>
</tr>
<tr>
<th colspan="2">
Режимы установки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/passive**
</td>
<td style="border:1px solid black;">
Автоматический режим установки. Вмешательства пользователя не требуется, но отображается состояние установки. Если по окончании установки требуется перезагрузка, на экране появится диалоговое окно, предупреждающее о перезагрузке компьютера через 30 секунд.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/quiet**
</td>
<td style="border:1px solid black;">
Полностью автоматический (тихий) режим. Режим, аналогичный автоматическому, но без отображения состояния или сообщений об ошибках.
</td>
</tr>
<tr>
<th colspan="2">
Параметры перезагрузки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/norestart**
</td>
<td style="border:1px solid black;">
После установки перезагрузка компьютера не выполняется.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/forcerestart**
</td>
<td style="border:1px solid black;">
Перезагружает компьютер после установки и принудительно закрывает все приложения без предварительного сохранения открытых файлов.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/warnrestart\[:x\]**
</td>
<td style="border:1px solid black;">
Выводит диалоговое окно, предупреждающее пользователя о том, что компьютер будет перезагружен через *x* секунд. (Значение по умолчанию — 30 секунд.) Используется с параметрами **/quiet** или **/passive**.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/promptrestart**
</td>
<td style="border:1px solid black;">
Отображает диалоговое окно с запросом на перезагрузку.
</td>
</tr>
<tr>
<th colspan="2">
Специальные параметры
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/overwriteoem**
</td>
<td style="border:1px solid black;">
Заменяет файлы OEM без вывода соответствующего запроса.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/nobackup**
</td>
<td style="border:1px solid black;">
Не создает резервных копий файлов на случай удаления.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/forceappsclose**
</td>
<td style="border:1px solid black;">
Завершает работу других программ перед выключением компьютера.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/log:path**
</td>
<td style="border:1px solid black;">
Обеспечивает переадресацию файлов журнала установки.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/integrate:path**
</td>
<td style="border:1px solid black;">
Интегрирует обновление в исходные файлы Windows. Путь доступа к этим файлам указан в параметре.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/extract\[:path\]**
</td>
<td style="border:1px solid black;">
Извлекает файлы без запуска программы установки.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/ER**
</td>
<td style="border:1px solid black;">
Создает расширенные отчеты об ошибках.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/verbose**
</td>
<td style="border:1px solid black;">
Обеспечивает подробное протоколирование в журнале. Во время установки создает журнал %Windir%\\CabBuild.log. В этом журнале приводится информация о копируемых файлах. Использование этого параметра может замедлить процесс установки.
</td>
</tr>
</table>
 
**Примечание.** Несколько параметров можно использовать в одной командной строке. Для обеспечения обратной совместимости обновлениями безопасности поддерживаются параметры, которые использовались в программе установки более ранней версии. Дополнительные сведения о поддерживаемых параметрах установки можно найти в [статье 262841 базы знаний Майкрософт](http://support.microsoft.com/kb/262841). Для получения подробной информации о программе установки Update.exe посетите [веб-узел Microsoft TechNet](http://go.microsoft.com/fwlink/?linkid=38951).

**Сведения о развертывании**

Чтобы установить обновление безопасности без вмешательства пользователя на компьютере под управлением Microsoft Windows XP, введите следующую команду:

**Windowsxp-kb930178-x86-enu /quiet**

**Примечание.** Использование параметра **/quiet** приведет к отключению всех сообщений. Сообщения об ошибках также не будут выводиться. При использовании параметра **/quiet** администратор должен проверить успешность установки при помощи какого-либо из поддерживаемых методов. Кроме того, необходимо проверить файл KB930178.log на наличие сообщений о сбое.

Чтобы установить обновление безопасности на компьютере под управлением Windows XP без последующей перезагрузки, введите следующую команду:

**Windowsxp-kb930178-x86-enu /norestart**

Для получения более подробных сведений о развертывании данного обновления с помощью служб Software Update Services посетите [веб-узел Software Update Services](http://go.microsoft.com/fwlink/?linkid=21125). Для получения дополнительной информации о развертывании данного обновления безопасности с помощью служб Windows Server Update Services посетите[веб-узел служб Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120). Это обновление будет также доступно [на веб-узле Центра обновления Майкрософт](http://update.microsoft.com/microsoftupdate).

**Необходимость перезагрузки**

После установки обновления компьютер необходимо перезагрузить.

**Сведения об удалении**

Для удаления обновления для системы безопасности воспользуйтесь компонентом "Установка и удаление программ" панели управления.

Кроме того, системные администраторы могут использовать для этой цели программу Spuninst.exe. Программа Spuninst.exe находится в папке %Windir%\\$NTUninstallKB930178$\\Spuninst.

<table class="dataTable">
<caption>
Поддерживаемые параметры Spuninst.exe
</caption>
<tr class="thead">
<th style="border:1px solid black;" >
Параметр
</th>
<th style="border:1px solid black;" >
Описание
</th>
</tr>
<tr>
<td style="border:1px solid black;">
**/help**
</td>
<td style="border:1px solid black;">
Отображает параметры командной строки.
</td>
</tr>
<tr>
<th colspan="2">
Режимы установки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/passive**
</td>
<td style="border:1px solid black;">
Автоматический режим установки. Вмешательства пользователя не требуется, но отображается состояние установки. Если по окончании установки требуется перезагрузка, на экране появится диалоговое окно, предупреждающее о перезагрузке компьютера через 30 секунд.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/quiet**
</td>
<td style="border:1px solid black;">
Полностью автоматический (тихий) режим. Режим, аналогичный автоматическому, но без отображения состояния или сообщений об ошибках.
</td>
</tr>
<tr>
<th colspan="2">
Параметры перезагрузки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/norestart**
</td>
<td style="border:1px solid black;">
После установки перезагрузка компьютера не выполняется.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/forcerestart**
</td>
<td style="border:1px solid black;">
Перезагружает компьютер после установки и принудительно закрывает все приложения без предварительного сохранения открытых файлов.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/warnrestart\[:x\]**
</td>
<td style="border:1px solid black;">
Выводит диалоговое окно, предупреждающее пользователя о том, что компьютер будет перезагружен через *x* секунд. (Значение по умолчанию — 30 секунд.) Используется с параметрами **/quiet** или **/passive**.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/promptrestart**
</td>
<td style="border:1px solid black;">
Отображает диалоговое окно с запросом на перезагрузку.
</td>
</tr>
<tr>
<th colspan="2">
Специальные параметры
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/forceappsclose**
</td>
<td style="border:1px solid black;">
Завершает работу других программ перед выключением компьютера.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/log:path**
</td>
<td style="border:1px solid black;">
Обеспечивает переадресацию файлов журнала установки.
</td>
</tr>
</table>
 
**Сведения о файлах**

Английская версия обновления содержит версии файлов, приведенные в следующей таблице. Дата и время указаны в формате всемирного универсального времени (UTC). При просмотре сведений о файле в системе производится перевод соответствующих значений в местное время. Чтобы определить разницу между временем по Гринвичу и местным временем, воспользуйтесь вкладкой **Часовой пояс** компонента Дата и время панели управления.

Windows XP Home Edition с пакетом обновления 2 (SP2), Windows XP Professional с пакетом обновления 2 (SP2), Windows XP Tablet PC Edition 2005 и Windows XP Media Center Edition 2005:

| Имя файла  | Версия        | Date        | Время | Размер  | Папка  |
|------------|---------------|-------------|-------|---------|--------|
| winsrv.dll | 5.1.2600.3103 | 17-мар-2007 | 13:43 | 292 864 | SP2GDR |
| winsrv.dll | 5.1.2600.3103 | 17-мар-2007 | 13:45 | 292 864 | SP2QFE |

Windows XP Professional x64 Edition и Windows XP Professional x64 Edition с пакетом обновления 2 (SP2)

| Имя файла  | Версия        | Date        | Время | Размер | Процессор | Папка  |
|------------|---------------|-------------|-------|--------|-----------|--------|
| winsrv.dll | 5.2.3790.2902 | 21-мар-2007 | 08:01 | 512512 | x64       | SP1GDR |
| winsrv.dll | 5.2.3790.2902 | 21-мар-2007 | 08:02 | 512512 | x64       | SP1QFE |
| winsrv.dll | 5.2.3790.4043 | 21-мар-2007 | 08:05 | 512512 | x64       | SP2GDR |
| winsrv.dll | 5.2.3790.4043 | 21-мар-2007 | 08:01 | 512512 | x64       | SP2QFE |

**Примечание**. При установке данных обновлений программа установки проверяет, не выполнялось ли ранее с помощью исправлений Майкрософт обновление файлов, которые предстоит обновить.

Если один из файлов был обновлен ранее другим исправлением, установщик копирует на компьютер файлы RTMQFE, SP1QFE и SP2QFE. В противном случае будут скопированы файлы RTMGDR, SP1GDR или SP2GDR. Обновления для системы безопасности могут не содержать всех этих вариантов. Дополнительную информацию о поведении такого рода см. в [статье 824994 базы знаний Майкрософт](http://support.microsoft.com/kb/824994).

Для получения дополнительной информации о программе установки Update.exe посетите [веб-узел Microsoft TechNet](http://go.microsoft.com/fwlink/?linkid=38951).

Для получения подробных сведений о терминологии, встречающейся в этом бюллетене, например, *исправление*, обратитесь к [статье 824684 базы знаний Майкрософт](http://support.microsoft.com/kb/824684).

**Проверка успешного применения обновления**

-   **Программа Microsoft Baseline Security Analyzer**

    Для проверки успешного применения обновления безопасности можно воспользоваться средством Microsoft Baseline Security Analyzer (MBSA). См. пункт "Можно ли определить необходимость установки этого обновления с помощью анализатора безопасности Microsoft Baseline Security Analyzer (MBSA)?" в разделе "Часто задаваемые вопросы об этом обновлении безопасности" данного бюллетеня.

-   **Проверка версий файлов**

    **Примечание.** На каждом конкретном компьютере эти действия определяются установленной версией операционной системы Microsoft Windows. В случае затруднений для выполнения процедуры обратитесь к документации по установленной версии продукта.

    1.  Нажмите кнопку **Пуск** и выберите пункт **Найти**.
    2.  На панели **Результаты поиска** в области **Помощник по поиску** выберите пункт **Файлы и папки**.
    3.  В области **Часть имени или имя файла целиком** введите имя файла из соответствующей справочной таблицы по файлам и нажмите кнопку **Найти**.
    4.  В списке файлов щелкните правой кнопкой мыши имя файла из соответствующей таблицы сведений о файлах и выберите **Свойства**.
        **Примечание.** В зависимости от версии операционной системы или установленных программ некоторые из файлов, перечисленных в таблице сведений о файлах, могут быть не установлены.
    5.  На вкладке **Версия** определите версию файла, устанавливаемого на компьютере, сравнив ее с версией, приведенной в соответствующей таблице сведений о файлах.
        **Примечание**. Все атрибуты, кроме версии файла, в ходе установки могут изменяться. Проверка того, что обновление было применено, путем сравнения других атрибутов файла с данными из таблицы сведений о файлах не поддерживается. Кроме того, при определенных условиях файлы в ходе установки могут быть переименованы. Если сведения о файле или версии отсутствуют, обратитесь к другим доступным методам проверки установки обновления.

-   **Проверка параметров системного реестра**

    Файлы, установленные этим обновлением системы безопасности, также можно проверить, открыв следующие разделы реестра.

    Для Windows XP Home Edition с пакетом обновления 2, Windows XP Professional с пакетом обновления 2, Windows XP Tablet PC Edition 2005 и Windows XP Media Center Edition 2005:

    HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Updates\\Windows XP\\SP3\\KB930178\\Filelist

    Для Windows XP Professional x64 Edition и Windows XP Professional x64 с пакетом обновления 2 (SP2):

    HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Updates\\Windows XP Version 2003\\SP3\\KB930178\\Filelist

    **Примечание.** Эти разделы реестра могут не содержать полного списка установленных файлов. Кроме того, эти разделы реестра могут быть созданы неправильно, если администратор или OEM-производитель интегрирует или добавляет обновление безопасности в исходные установочные файлы Windows.

#### Windows Server 2003 (все версии)

**Необходимые условия**
Это обновление для системы безопасности требует наличия Windows Server 2003, Windows Server 2003 с пакетом обновления 1 (SP1), Windows Server 2003 с пакетом обновления 2 (SP2), Windows Server 2003 для платформы Itanium, Windows Server 2003 с пакетом обновления 1 (SP1) для платформы Itanium, Windows Server 2003 с пакетом обновления 2 (SP2) для платформы Itanium, Windows Server 2003 x64 Edition или Windows Server 2003 x64 Edition с пакетом обновления 2 (SP2).

**Включение в будущие пакеты обновления**
Обновление для устранения данной проблемы будет включено в будущий пакет обновления или накопительный пакет обновления.

**Сведения об установке**

Обновление для системы безопасности поддерживает следующие параметры командной строки.

<table class="dataTable">
<caption>
Поддерживаемые параметры установки программы обновления безопасности
</caption>
<tr class="thead">
<th style="border:1px solid black;" >
Параметр
</th>
<th style="border:1px solid black;" >
Описание
</th>
</tr>
<tr>
<td style="border:1px solid black;">
**/help**
</td>
<td style="border:1px solid black;">
Отображает параметры командной строки.
</td>
</tr>
<tr>
<th colspan="2">
Режимы установки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/passive**
</td>
<td style="border:1px solid black;">
Автоматический режим установки. Вмешательства пользователя не требуется, но отображается состояние установки. Если по окончании установки требуется перезагрузка, на экране появится диалоговое окно, предупреждающее о перезагрузке компьютера через 30 секунд.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/quiet**
</td>
<td style="border:1px solid black;">
Полностью автоматический (тихий) режим. Режим, аналогичный автоматическому, но без отображения состояния или сообщений об ошибках.
</td>
</tr>
<tr>
<th colspan="2">
Параметры перезагрузки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/norestart**
</td>
<td style="border:1px solid black;">
После установки перезагрузка компьютера не выполняется.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/forcerestart**
</td>
<td style="border:1px solid black;">
Перезагружает компьютер после установки и принудительно закрывает все приложения без предварительного сохранения открытых файлов.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/warnrestart\[:x\]**
</td>
<td style="border:1px solid black;">
Выводит диалоговое окно, предупреждающее пользователя о том, что компьютер будет перезагружен через *x* секунд. (Значение по умолчанию — 30 секунд.) Используется с параметрами **/quiet** или **/passive**.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/promptrestart**
</td>
<td style="border:1px solid black;">
Отображает диалоговое окно с запросом на перезагрузку.
</td>
</tr>
<tr>
<th colspan="2">
Специальные параметры
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/overwriteoem**
</td>
<td style="border:1px solid black;">
Заменяет файлы OEM без вывода соответствующего запроса.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/nobackup**
</td>
<td style="border:1px solid black;">
Не создает резервных копий файлов на случай удаления.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/forceappsclose**
</td>
<td style="border:1px solid black;">
Завершает работу других программ перед выключением компьютера.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/log: путь**
</td>
<td style="border:1px solid black;">
Обеспечивает переадресацию файлов журнала установки.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/integrate:path**
</td>
<td style="border:1px solid black;">
Интегрирует обновление в исходные файлы Windows. Путь доступа к этим файлам указан в параметре.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/extract\[:path\]**
</td>
<td style="border:1px solid black;">
Извлекает файлы без запуска программы установки.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/ER**
</td>
<td style="border:1px solid black;">
Создает расширенные отчеты об ошибках.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/verbose**
</td>
<td style="border:1px solid black;">
Обеспечивает подробное протоколирование в журнале. Во время установки создает журнал %Windir%\\CabBuild.log. В этом журнале приводится информация о копируемых файлах. Использование этого параметра может замедлить процесс установки.
</td>
</tr>
</table>
 
**Примечание.** Несколько параметров можно использовать в одной командной строке. Для обеспечения обратной совместимости обновлениями безопасности поддерживаются параметры, которые использовались в программе установки более ранней версии. Дополнительные сведения о поддерживаемых параметрах установки можно найти в [статье 262841 базы знаний Майкрософт](http://support.microsoft.com/kb/262841). Для получения подробной информации о программе установки Update.exe посетите [веб-узел Microsoft TechNet](http://go.microsoft.com/fwlink/?linkid=38951).

**Сведения о развертывании**

Чтобы установить обновление безопасности без вмешательства пользователя, введите следующую команду:

**Windowsserver2003-kb930178-x86-enu /quiet**

**Примечание.** Использование параметра **/quiet** приведет к отключению всех сообщений. Сообщения об ошибках также не будут выводиться. При использовании параметра **/quiet** администратор должен проверить успешность установки при помощи какого-либо из поддерживаемых методов. Кроме того, необходимо проверить файл KB930178.log на наличие сообщений о сбое.

Чтобы установить обновление для системы безопасности на компьютере под управлением Windows Server 2003 без последующей перезагрузки, введите следующую команду:

**Windowsserver2003-kb930178-x86-enu /norestart**

Для получения более подробных сведений о развертывании данного обновления с помощью служб Software Update Services посетите [веб-узел Software Update Services](http://go.microsoft.com/fwlink/?linkid=21125). Для получения дополнительной информации о развертывании данного обновления безопасности с помощью служб Windows Server Update Services посетите[веб-узел служб Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120). Это обновление будет также доступно [на веб-узле Центра обновления Майкрософт](http://update.microsoft.com/microsoftupdate).

**Необходимость перезагрузки**

После установки обновления компьютер необходимо перезагрузить.

Данное обновление безопасности не поддерживает горячее обновление HotPatching. Дополнительные сведения о функции HotPatching см. в статье [897341 базы знаний Майкрософт](http://support.microsoft.com/kb/897341).

Данное обновление безопасности не поддерживает горячее обновление HotPatching. Дополнительные сведения о функции HotPatching и развертывании этого обновления для системы безопасности в качестве исправления HotPatch см. в статье 897341 базы знаний Майкрософт.

**Примечание**. Не все обновления для системы безопасности поддерживают функцию HotPatching. Из тех, что поддерживают ее, некоторые после установки могут потребовать перезагрузки сервера. Функция HotPatching поддерживается только в том случае, если все файлы, заменяемые обновлением для системы безопасности, входят в выпуск General Distribution Release (GDR). Функция HotPatching не поддерживается, если до этого для одного из файлов, включенных в обновление для системы безопасности, устанавливалось исправление. Дополнительные сведения об этом см. [в статье 897341 базы знаний Майкрософт](http://support.microsoft.com/kb/897341) и [в статье 824994 базы знаний Майкрософт](http://support.microsoft.com/kb/824994).

**Сведения об удалении**

Для удаления обновления воспользуйтесь компонентом "Установка и удаление программ" панели управления.

Кроме того, системные администраторы могут использовать для этой цели программу Spuninst.exe. Программа Spuninst.exe находится в папке %Windir%\\$NTUninstallKB930178$\\Spuninst.

<table class="dataTable">
<caption>
Поддерживаемые параметры Spuninst.exe
</caption>
<tr class="thead">
<th style="border:1px solid black;" >
Параметр
</th>
<th style="border:1px solid black;" >
Описание
</th>
</tr>
<tr>
<td style="border:1px solid black;">
**/help**
</td>
<td style="border:1px solid black;">
Отображает параметры командной строки.
</td>
</tr>
<tr>
<th colspan="2">
Режимы установки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/passive**
</td>
<td style="border:1px solid black;">
Автоматический режим установки. Вмешательства пользователя не требуется, но отображается состояние установки. Если по окончании установки требуется перезагрузка, на экране появится диалоговое окно, предупреждающее о перезагрузке компьютера через 30 секунд.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/quiet**
</td>
<td style="border:1px solid black;">
Полностью автоматический (тихий) режим. Режим, аналогичный автоматическому, но без отображения состояния или сообщений об ошибках.
</td>
</tr>
<tr>
<th colspan="2">
Параметры перезагрузки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/norestart**
</td>
<td style="border:1px solid black;">
После установки перезагрузка компьютера не выполняется.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/forcerestart**
</td>
<td style="border:1px solid black;">
Перезагружает компьютер после установки и принудительно закрывает все приложения без предварительного сохранения открытых файлов.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/warnrestart\[:x\]**
</td>
<td style="border:1px solid black;">
Выводит диалоговое окно, предупреждающее пользователя о том, что компьютер будет перезагружен через *x* секунд. (Значение по умолчанию — 30 секунд.) Используется с параметрами **/quiet** или **/passive**.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/promptrestart**
</td>
<td style="border:1px solid black;">
Отображает диалоговое окно с запросом на перезагрузку.
</td>
</tr>
<tr>
<th colspan="2">
Специальные параметры
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/forceappsclose**
</td>
<td style="border:1px solid black;">
Завершает работу других программ перед выключением компьютера.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/log:path**
</td>
<td style="border:1px solid black;">
Обеспечивает переадресацию файлов журнала установки.
</td>
</tr>
</table>
 
**Сведения о файлах**

Английская версия обновления содержит версии файлов, приведенные в следующей таблице. Дата и время указаны в формате всемирного универсального времени (UTC). При просмотре сведений о файле в системе производится перевод соответствующих значений в местное время. Чтобы определить разницу между временем по Гринвичу и местным временем, воспользуйтесь вкладкой **Часовой пояс** компонента Дата и время панели управления.

Windows Server 2003 Web Edition, Windows Server 2003 Standard Edition, Windows Server 2003 Datacenter Edition, Windows Server 2003 Enterprise Edition, Windows Small Business Server 2003, Windows Server 2003 Web Edition с пакетом обновления 1 (SP1), Windows Server 2003 Standard Edition с пакетом обновления 1 (SP1), Windows Server 2003 Enterprise Edition с пакетом обновления 1 (SP1), Windows Server 2003 Datacenter Edition с пакетом обновления 1 (SP1), Windows Server 2003 R2 Standard Edition, Windows Server 2003 R2 Datacenter Edition, Windows Server 2003 R2 Enterprise Edition, Windows Small Business Server 2003 R2, Windows Server 2003 Web Edition с пакетом обновления 2 (SP2), Windows Server 2003 Standard Edition с пакетом обновления 2 (SP2), Windows Server 2003 Enterprise Edition с пакетом обновления 2 (SP2), Windows Server 2003 Datacenter Edition с пакетом обновления 2 (SP2), Windows Server 2003 R2 Standard Edition с пакетом обновления 2 (SP2), Windows Server 2003 R2 Datacenter Edition с пакетом обновления 2 (SP2), Windows Server 2003 R2 Enterprise Edition с пакетом обновления 2 (SP2) и Windows Small Business Server 2003 R2 с пакетом обновления 2 (SP2).

| Имя файла  | Версия        | Date        | Время | Размер  | Папка  |
|------------|---------------|-------------|-------|---------|--------|
| winsrv.dll | 5.2.3790.658  | 21-мар-2007 | 06:08 | 298 496 | RTMGDR |
| winsrv.dll | 5.2.3790.658  | 21-мар-2007 | 04:45 | 299 520 | RTMQFE |
| winsrv.dll | 5.2.3790.2902 | 21-мар-2007 | 04:31 | 299 520 | SP1GDR |
| winsrv.dll | 5.2.3790.2902 | 21-мар-2007 | 05:18 | 299 520 | SP1QFE |
| winsrv.dll | 5.2.3790.4043 | 21-мар-2007 | 05:20 | 301 056 | SP2GDR |
| winsrv.dll | 5.2.3790.4043 | 21-мар-2007 | 05:15 | 301 056 | SP2QFE |

Windows Server 2003 Enterprise Edition для платформы Itanium, Windows Server 2003 Datacenter Edition для платформы Itanium, Windows Server 2003 Enterprise Edition с пакетом обновления 1 (SP1) для платформы Itanium, Windows Server 2003 Datacenter Edition с пакетом обновления 1 (SP1) для платформы Itanium, Windows Server 2003 Enterprise Edition с пакетом обновления 2 (SP2) для платформы Itanium и Windows Server 2003 Datacenter Edition с пакетом обновления 2 (SP2) для платформы Itanium.

| Имя файла  | Версия        | Date        | Время | Размер  | Процессор | Папка  |
|------------|---------------|-------------|-------|---------|-----------|--------|
| winsrv.dll | 5.2.3790.658  | 21-мар-2007 | 08:02 | 771 072 | IA-64     | RTMGDR |
| winsrv.dll | 5.2.3790.658  | 21-мар-2007 | 08:02 | 772 608 | IA-64     | RTMQFE |
| winsrv.dll | 5.2.3790.2902 | 21-мар-2007 | 08:02 | 818 688 | IA-64     | SP1GDR |
| winsrv.dll | 5.2.3790.2902 | 21-мар-2007 | 08:03 | 818 688 | IA-64     | SP1QFE |
| winsrv.dll | 5.2.3790.4043 | 21-мар-2007 | 08:05 | 818 688 | IA-64     | SP2GDR |
| winsrv.dll | 5.2.3790.4043 | 21-мар-2007 | 08:02 | 818 688 | IA-64     | SP2QFE |

Windows Server 2003 Standard x64 Edition, Windows Server 2003 Enterprise x64 Edition, Windows Server 2003 Datacenter x64 Edition, Windows Server 2003 R2 Standard x64 Edition, Windows Server 2003 R2 Enterprise x64 Edition, Windows Server 2003 R2 Datacenter x64 Edition, Windows Server 2003 Standard x64 Edition с пакетом обновления 2 (SP2), Windows Server 2003 Enterprise x64 Edition с пакетом обновления 2 (SP2), Windows Server 2003 Datacenter x64 Edition с пакетом обновления 2 (SP2), Windows Server 2003 R2 Standard x64 Edition с пакетом обновления 2 (SP2), Windows Server 2003 R2 Enterprise x64 Edition с пакетом обновления 2 (SP2) и Windows Server 2003 R2 Datacenter x64 Edition с пакетом обновления 2 (SP2).

| Имя файла  | Версия        | Date        | Время | Размер | Процессор | Папка  |
|------------|---------------|-------------|-------|--------|-----------|--------|
| winsrv.dll | 5.2.3790.2902 | 21-мар-2007 | 08:01 | 512512 | x64       | SP1GDR |
| winsrv.dll | 5.2.3790.2902 | 21-мар-2007 | 08:02 | 512512 | x64       | SP1QFE |
| winsrv.dll | 5.2.3790.4043 | 21-мар-2007 | 08:05 | 512512 | x64       | SP2GDR |
| winsrv.dll | 5.2.3790.4043 | 21-мар-2007 | 08:01 | 512512 | x64       | SP2QFE |

**Примечание**. При установке данных обновлений программа установки проверяет, не выполнялось ли ранее с помощью исправлений Майкрософт обновление файлов, которые предстоит обновить.

Если один из файлов был обновлен ранее другим исправлением, установщик копирует на компьютер файлы RTMQFE, SP1QFE и SP2QFE. В противном случае будут скопированы файлы RTMGDR, SP1GDR или SP2GDR. Обновления для системы безопасности могут не содержать всех этих вариантов. Дополнительную информацию о поведении такого рода см. в [статье 824994 базы знаний Майкрософт](http://support.microsoft.com/kb/824994).

Дополнительную информацию о поведении такого рода см. в [статье 824994 базы знаний Майкрософт](http://support.microsoft.com/kb/824994).

Для получения дополнительной информации о программе установки Update.exe посетите [веб-узел Microsoft TechNet](http://go.microsoft.com/fwlink/?linkid=38951).

Для получения подробных сведений о терминологии, встречающейся в этом бюллетене, например, *исправление*, обратитесь к [статье 824684 базы знаний Майкрософт](http://support.microsoft.com/kb/824684).

**Проверка успешного применения обновления**

-   **Программа Microsoft Baseline Security Analyzer**

    Для проверки успешного применения обновления безопасности можно воспользоваться средством Microsoft Baseline Security Analyzer (MBSA). См. пункт "Можно ли определить необходимость установки этого обновления с помощью анализатора безопасности Microsoft Baseline Security Analyzer (MBSA)?" в разделе "Часто задаваемые вопросы об этом обновлении безопасности" данного бюллетеня.

-   **Проверка версий файлов**

    **Примечание.** На каждом конкретном компьютере эти действия определяются установленной версией операционной системы Microsoft Windows. В случае затруднений для выполнения процедуры обратитесь к документации по установленной версии продукта.

    1.  Нажмите кнопку **Пуск** и выберите пункт **Найти**.
    2.  На панели **Результаты поиска** в области **Помощник по поиску** выберите пункт **Файлы и папки**.
    3.  В области **Часть имени или имя файла целиком** введите имя файла из соответствующей справочной таблицы по файлам и нажмите кнопку **Найти**.
    4.  В списке файлов щелкните правой кнопкой мыши имя файла из соответствующей таблицы сведений о файлах и выберите **Свойства**.
        **Примечание.** В зависимости от версии операционной системы или установленных программ некоторые из файлов, перечисленных в таблице сведений о файлах, могут быть не установлены.
    5.  На вкладке **Версия** определите версию файла, устанавливаемого на компьютере, сравнив ее с версией, приведенной в соответствующей таблице сведений о файлах.
        **Примечание**. Все атрибуты, кроме версии файла, в ходе установки могут изменяться. Проверка того, что обновление было применено, путем сравнения других атрибутов файла с данными из таблицы сведений о файлах не поддерживается. Кроме того, при определенных условиях файлы в ходе установки могут быть переименованы. Если сведения о файле или версии отсутствуют, обратитесь к другим доступным методам проверки установки обновления.

-   **Проверка параметров системного реестра**

    Файлы, установленные этим обновлением системы безопасности, также можно проверить, открыв следующие разделы реестра.

    Windows Server 2003 Web Edition, Windows Server 2003 Standard Edition, Windows Server 2003 Enterprise Edition, Windows Server 2003 Datacenter Edition, Windows Small Business Server 2003, Windows Server 2003 Enterprise Edition для платформы Itanium, Windows Server 2003 Datacenter Edition для платформы Itanium, Windows Server 2003 R2 Web Edition, Windows Server 2003 R2 Standard Edition, Windows Server 2003 R2 Datacenter Edition, Windows Server 2003 R2 Enterprise Edition и Windows Small Business Server 2003 R2:

    HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Updates\\Windows Server 2003\\SP3\\KB930178\\Filelist

    Windows Server 2003 Web Edition, Windows Server 2003 Standard Edition, Windows Server 2003 Enterprise Edition, Windows Server 2003 Datacenter Edition, Windows Small Business Server 2003, Windows Server 2003 Web Edition с пакетом обновления 1 (SP1), Windows Server 2003 Standard Edition с пакетом обновления 1 (SP1), Windows Server 2003 Enterprise Edition с пакетом обновления 1 (SP1), Windows Server 2003 Datacenter Edition с пакетом обновления 1 (SP1), Windows Small Business Server 2003 с пакетом обновления 1 (SP1), Windows Server 2003 Enterprise Edition для платформы Itanium, Windows Server 2003 Datacenter Edition для платформы Itanium, Windows Server 2003 Enterprise Edition с пакетом обновления 1 (SP1) для платформы Itanium, Windows Server 2003 Datacenter Edition с пакетом обновления 1 (SP1) для платформы Itanium, Windows Server 2003 Standard x64 Edition, Windows Server 2003 Enterprise x64 Edition, Windows Server 2003 Datacenter x64 Edition, Windows Server 2003 R2 Standard x64 Edition, Windows Server 2003 R2 Enterprise x64 Edition, Windows Server 2003 R2 Datacenter x64 Edition, Windows Server 2003 Enterprise Edition с пакетом обновления 2 (SP2), Windows Server 2003 Datacenter Edition с пакетом обновления 2 (SP2) и Windows Small Business Server 2003 R2 с пакетом обновления 2 (SP2).

    HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Updates\\Windows Server 2003\\SP3\\KB930178\\Filelist

    **Примечание.** Этот раздел реестра может не содержать полного списка установленных файлов. Кроме того, этот раздел реестра может быть создан неправильно, если администратор или OEM-производитель интегрирует или добавляет обновление безопасности в исходные установочные файлы Windows.

#### Windows Vista (все версии)

**Необходимые условия**
Это обновление для системы безопасности предназначено для установки на компьютере с выпущенной версией Windows Vista.

**Включение в будущие пакеты обновления**
Обновление для устранения этой уязвимости будет включено в следующий пакет обновления или сборник обновлений.

**Сведения об установке**
**Обновление для системы безопасности поддерживает следующие параметры командной строки.**

| Параметр          | Описание                                                                                                                     |
|-------------------|------------------------------------------------------------------------------------------------------------------------------|
| **/?, /h, /help** | Вывод справки о поддерживаемых параметрах.                                                                                   |
| **/quiet**        | Подавление отображения сообщений о состоянии или ошибке.                                                                     |
| **/norestart**    | При вводе с параметром /quiet система не перезагрузится после установки, даже если для ее завершения требуется перезагрузка. |

**Примечание**. Дополнительные сведения об установщике wusa.exe см. в статье [934307 базы знаний Майкрософт](http://support.microsoft.com/kb/934307).

**Сведения о развертывании**

Для того чтобы установить обновление для системы безопасности без вмешательства пользователя на компьютере с системой Windows Vista, введите следующую команду в командной строке:

**Windows6.0-KB930178-x86.msu /quiet**

**Примечание**. Использование параметра **/quiet** приведет к отключению всех сообщений, в том числе и сообщений об отказах. Администратору следует воспользоваться одним из поддерживаемых способов для проверки успешности установки. Кроме того, при использовании этого параметра администратор должен проверить журналы системных событий на наличие сообщений о сбое.

Чтобы установить обновление для системы безопасности без последующей перезагрузки, введите в командной строке системы Windows Vista следующую команду:

**Windows6.0-KB930178-x86.msu /quiet /norestart**

Для получения дополнительной информации о развертывании данного обновления безопасности с помощью служб Windows Server Update Services посетите[веб-узел служб Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120). Это обновление будет также доступно [на веб-узле Центра обновления Майкрософт](http://update.microsoft.com/microsoftupdate).

**Необходимость перезагрузки**

После установки обновления компьютер необходимо перезагрузить.

**Сведения об удалении**

Чтобы удалить это обновление, на **Панели управления** выберите компонент **Безопасность**, затем в разделе **Центр обновления Windows** щелкните пункт **Просмотр установленных обновлений** и выберите необходимое обновление из списка.

**Сведения о файлах**

Это обновление для системы безопасности содержит атрибуты файлов, приведенные в указанной ниже таблице. Дата и время указаны в формате всемирного универсального времени (UTC). При просмотре сведений о файле в системе производится перевод соответствующих значений в местное время. Чтобы определить разницу между временем по Гринвичу и местным временем, воспользуйтесь вкладкой **Часовой пояс** компонента Дата и время панели управления.

Windows Vista Ultimate, Windows Vista Enterprise, Windows Vista Business, Windows Vista Home Premium, Windows Vista Home Basic и Windows Vista Starter

| Имя файла  | Версия         | Date        | Время | Размер  | Папка                                                                                                            |
|------------|----------------|-------------|-------|---------|------------------------------------------------------------------------------------------------------------------|
| csrsrv.dll | 6.0.6000.16445 | 24-фев-2007 | 03:14 | 49 664  | Windows6.0-KB930178-x86\\x86\_microsoft-windows-csrsrv\_31bf3856ad364e35\_6.0.6000.16445\_none\_c77ab655a8530501 |
| csrsrv.dll | 6.0.6000.20544 | 24-фев-2007 | 02:54 | 49 664  | Windows6.0-KB930178-x86\\x86\_microsoft-windows-csrsrv\_31bf3856ad364e35\_6.0.6000.20544\_none\_c80352d6c1718b74 |
| winsrv.dll | 6.0.6000.16445 | 24-фев-2007 | 03:16 | 376 320 | Windows6.0-KB930178-x86\\x86\_microsoft-windows-winsrv\_31bf3856ad364e35\_6.0.6000.16445\_none\_b47215f29f4a98e3 |
| winsrv.dll | 6.0.6000.20544 | 24-фев-2007 | 02:58 | 376 320 | Windows6.0-KB930178-x86\\x86\_microsoft-windows-winsrv\_31bf3856ad364e35\_6.0.6000.20544\_none\_b4fab273b8691f56 |

64-разрядные версии систем Windows Vista Ultimate, Windows Vista Enterprise, Windows Vista Business, Windows Vista Home Premium, Windows Vista Home Basic и Windows Vista Starter

| Имя файла  | Версия         | Date        | Время | Размер  | Процессор | Папка                                                                                                              |
|------------|----------------|-------------|-------|---------|-----------|--------------------------------------------------------------------------------------------------------------------|
| csrsrv.dll | 6.0.6000.16445 | 24-фев-2007 | 04:33 | 86,016  | x64       | Windows6.0-KB930178-x64\\amd64\_microsoft-windows-csrsrv\_31bf3856ad364e35\_6.0.6000.16445\_none\_239951d960b07637 |
| csrsrv.dll | 6.0.6000.20544 | 24-фев-2007 | 04:16 | 86,016  | x64       | Windows6.0-KB930178-x64\\amd64\_microsoft-windows-csrsrv\_31bf3856ad364e35\_6.0.6000.20544\_none\_2421ee5a79cefcaa |
| winsrv.dll | 6.0.6000.16445 | 24-фев-2007 | 04:36 | 432 128 | x64       | Windows6.0-KB930178-x64\\amd64\_microsoft-windows-winsrv\_31bf3856ad364e35\_6.0.6000.16445\_none\_1090b17657a80a19 |
| winsrv.dll | 6.0.6000.20544 | 24-фев-2007 | 04:19 | 432 128 | x64       | Windows6.0-KB930178-x64\\amd64\_microsoft-windows-winsrv\_31bf3856ad364e35\_6.0.6000.20544\_none\_11194df770c6908c |

**Примечание**. При установке этого обновления для системы безопасности система Windows проверяет, не обновлялись ли файлы ранее с помощью исправления Windows. Если ранее для обновления одного из этих файлов было установлено исправление, установщик применит LDR-версию данного обновления. В противном случае, установщик применит GDR-версию обновления.

Дополнительную информацию о поведении такого рода см. в [статье 824994 базы знаний Майкрософт](http://support.microsoft.com/kb/824994).

Дополнительные сведения об установщике wusa.exe см. в [статье 93430 базы знаний Майкрософт](http://support.microsoft.com/kb/934307).

Для получения подробных сведений о терминологии, встречающейся в этом бюллетене, например, *исправление*, обратитесь к [статье 824684 базы знаний Майкрософт](http://support.microsoft.com/kb/824684).

**Проверка успешного применения обновления**

-   **Программа Microsoft Baseline Security Analyzer**

    Для проверки успешного применения обновления безопасности можно воспользоваться средством Microsoft Baseline Security Analyzer (MBSA). См. пункт "Можно ли определить необходимость установки этого обновления с помощью анализатора безопасности Microsoft Baseline Security Analyzer (MBSA)?" в разделе "Часто задаваемые вопросы об этом обновлении безопасности" данного бюллетеня.

-   **Проверка версий файлов**

    **Примечание.** На каждом конкретном компьютере эти действия определяются установленной версией операционной системы Microsoft Windows. В случае затруднений для выполнения процедуры обратитесь к документации по установленной версии продукта.

    1.  Нажмите кнопку **Пуск** и затем введите имя файла обновления в поле **Начать поиск**.
    2.  Когда файл появится в меню **Программы**, щелкните имя файла правой кнопкой мыши и выберите пункт **Свойства**.
    3.  Сравните размер файла на вкладке **Общие** с помощью таблиц сведений о файлах, предоставленных выше в этом разделе.
    4.  Также можно открыть вкладку **Дополнительно** и сравнить версии файлов и дату их изменения с помощью таблиц сведений о файлах, предоставленных выше в этом разделе.
    5.  На вкладке "Дополнительно" определите версию файла, устанавливаемого на компьютере, сравнив ее с приведенной в соответствующей таблице сведений о файлах.
        **Примечание**. Все атрибуты, кроме версии файла, в ходе установки могут изменяться. Проверка того, что обновление было применено, путем сравнения других атрибутов файла с данными из таблицы сведений о файлах не поддерживается. Кроме того, при определенных условиях файлы в ходе установки могут быть переименованы. Если сведения о файле или версии отсутствуют, обратитесь к другим доступным методам проверки установки обновления.

### Прочие сведения

**Благодарности**

Корпорация Майкрософт [благодарит](http://go.microsoft.com/fwlink/?linkid=21127) за проведенную совместно работу по защите пользователей:

-   Тима Гарнетта (Tim Garnett) из компании [Determina Security Research](http://www.determina.com/) за сообщение об уязвимости процесса MsgBox (CSRSS), приводящей к удаленному выполнению кода, — [CVE-2006-6696](http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=cve-2006-6696);
-   компанию [eEye](http://www.eeye.com/) за сообщение об уязвимости CSRSS, приводящей к несанкционированному получению локальных прав, — [CVE-2007-1209.](http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=cve-2007-1209)

**Другие обновления безопасности:**

Другие обновления для системы безопасности можно загрузить по следующим ссылкам:

-   Обновления безопасности доступны на веб-узле [центра загрузки Microsoft](http://go.microsoft.com/fwlink/?linkid=21129). Самый простой способ найти обновление — выполнить поиск по ключевому слову «security\_patch».
-   Для получения обновлений для пользовательских систем обращайтесь на [веб-узел Центра обновления Майкрософт](http://go.microsoft.com/fwlink/?linkid=40747).

**Поддержка:**

-   Обращайтесь в [службу поддержки продуктов корпорации Майкрософт](http://go.microsoft.com/fwlink/?linkid=21131) по телефону 1-866-PCSAFETY (для жителей США и Канады). Звонки, связанные с обновлениями безопасности, обслуживаются бесплатно.
-   Пользователям в других странах для получения поддержки следует обращаться в местные представительства корпорации Майкрософт. Звонки, связанные с обновлениями безопасности, обслуживаются бесплатно. Для получения дополнительных сведений о службе поддержки корпорации Майкрософт посетите [веб-узел международной поддержки](http://go.microsoft.com/fwlink/?linkid=21155).

**Источники сведений по безопасности:**

-   Дополнительные сведения о безопасности продуктов корпорации Майкрософт см. на веб-узле [Microsoft TechNet Security](http://go.microsoft.com/fwlink/?linkid=21132).
-   [Центр TechNet Update Management Center](http://go.microsoft.com/fwlink/?linkid=69903)
-   [Службы Microsoft Software Update Services](http://go.microsoft.com/fwlink/?linkid=21133)
-   [Службы Microsoft Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120)
-   Средство MBSA ([Microsoft Baseline Security Analyzer](http://go.microsoft.com/fwlink/?linkid=21134)).
-   [Веб-узел Windows Update](http://go.microsoft.com/fwlink/?linkid=21130)
-   [Веб-узел Microsoft Update](http://update.microsoft.com/microsoftupdate)
-   Каталог Центра обновления Windows: Дополнительные сведения о каталоге Центра обновления Windows см. в [статье 323166 базы знаний Майкрософт](http://support.microsoft.com/kb/323166).
-   [Веб-узел Office Update](http://go.microsoft.com/fwlink/?linkid=21135)

**Службы Software Update Services**

Службы Microsoft Software Update Services (SUS) позволяют администратору быстро и надежно устанавливать последние критические обновления и обновления безопасности на серверах, работающих под управлением Windows 2000 и Windows Server 2003, а также на настольных компьютерах, работающих под управлением Windows 2000 Professional и Windows XP Professional.

Для получения более подробных сведений о развертывании обновлений безопасности с помощью служб Software Update Services посетите [веб-узел Software Update Services](http://go.microsoft.com/fwlink/?linkid=21133).

**Службы Windows Server Update Services**

Службы Windows Server Update Services (WSUS) позволяют администраторам быстро и надежно развертывать последние критические обновления и обновления безопасности для операционных систем Windows 2000 и более поздних версий, Office XP и более поздних версий, Exchange Server 2003 и SQL Server 2000 на системах Windows 2000, а также более поздних версиях операционных систем.

Для получения дополнительной информации о развертывании обновлений безопасности с помощью служб Windows Server Update Services посетите[веб-узел служб Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120).

**Systems Management Server:**

Сервер Systems Management Server (SMS) корпорации Майкрософт предоставляет полностью настраиваемое решение для управления обновлениями в масштабах предприятия. С помощью сервера SMS администраторы могут определять необходимость установки обновлений безопасности на системах Windows и выполнять управляемое развертывание этих обновлений по всему предприятию с минимальными нарушениями работы конечных пользователей. С помощью сервера SMS администраторы могут определять необходимость установки обновлений безопасности на системах Windows и выполнять управляемое развертывание этих обновлений по всему предприятию с минимальными нарушениями работы конечных пользователей. Дополнительные сведения о том, как администраторы могут использовать сервер SMS 2003 для развертывания обновлений, см. на [веб-узле управления исправлениями для системы безопасности сервера SMS 2003](http://go.microsoft.com/fwlink/?linkid=22939). Пользователи сервера SMS 2.0 могут также применять пакет [Software Updates Service Feature Pack](http://go.microsoft.com/fwlink/?linkid=33340), с помощью которого упрощается развертывание обновлений системы безопасности. Дополнительные сведения о сервере SMS см. на [веб-узле SMS.](http://go.microsoft.com/fwlink/?linkid=21158)

**Примечание**. Для предоставления широкой поддержки при определении необходимости применения и развертывания обновлений, описанных в бюллетенях по безопасности, сервером SMS используются анализатор безопасности Microsoft Baseline Security Analyzer, средства Microsoft Office Detection Tool и Enterprise Update Scanning Tool. С помощью этих средств не всегда удается определить необходимость некоторых обновлений программного обеспечения. В этих случаях для определения компьютеров, на которых требуется установка обновлений, администраторы могут воспользоваться учетными функциями SMS. Дополнительные сведения об этой процедуре см. на [веб-узле](http://go.microsoft.com/fwlink/?linkid=33341). При установке некоторых обновлений безопасности для продолжения работы на компьютере после его перезагрузки потребуется наличие соответствующих полномочий администратора. Администраторы могут устанавливать эти обновления с помощью средства Elevated Rights Deployment Tool (входит в состав пакетов [SMS 2003 Administration Feature Pack](http://go.microsoft.com/fwlink/?linkid=33387) и [SMS 2.0 Administration Feature Pack](http://go.microsoft.com/fwlink/?linkid=21161)).

**Отказ от гарантий:**

Сведения в статьях базы знаний Майкрософт предоставляются без каких-либо гарантий. Корпорация Майкрософт не предоставляет каких-либо гарантий, явных или подразумеваемых, включая любые гарантии товарности или пригодности для использования в определенных целях. Корпорация Майкрософт и ее поставщики ни при каких обстоятельствах не несут ответственности за возможный ущерб, включая косвенный, случайный, прямой, опосредованный и специальный ущерб, а также упущенную выгоду, даже если корпорация Майкрософт или ее поставщики заранее были извещены о возможности такого ущерба. Если действующее законодательство не допускает отказа от ответственности за косвенный или случайный ущерб, то описанные выше ограничения не действуют.

**Редакции:**

-   Версия 1.0 (10 апреля 2007 г.) Бюллетень опубликован.
-   Версия 1.1 (26 апреля 2007 г.) Обновлен раздел сведений о файлах для системы Windows XP с пакетом обновления 2 (SP2) и Windows Vista.
-   Версия 1.2 (26 марта 2008 г.). В бюллетень включен раздел "Известные проблемы".

*Built at 2014-04-18T01:50:00Z-07:00*
