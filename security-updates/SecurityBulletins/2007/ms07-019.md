---
TOCTitle: 'MS07-019'
Title: 'Бюллетень по безопасности (Майкрософт) MS07-019 - Критическое'
ms:assetid: 'ms07-019'
ms:contentKeyID: 61236088
ms:mtpsurl: 'https://technet.microsoft.com/ru-RU/library/ms07-019(v=Security.10)'
---

Security Bulletin

Бюллетень по безопасности (Майкрософт) MS07-019 - Критическое
=============================================================

Уязвимость в службе Universal Plug and Play делает возможным удаленное выполнение кода (931261)
-----------------------------------------------------------------------------------------------

Дата публикации: 10 апреля 2007 г.

**Версия:** 1.0

#### Заключение

**Для кого предназначен этот документ:** для пользователей Microsoft Windows

**Воздействие уязвимости:** удаленное выполнение кода

**Степень опасности:** Критический

**Рекомендация:** обновление следует установить немедленно.

**Замена обновлений безопасности:** Отсутствует

**Предупреждения.** Отсутствует

**Проверенное программное обеспечение и адрес загрузки соответствующих обновлений безопасности.**

**Подвержены уязвимости:**

-   Microsoft Windows XP с пакетом обновления 2 (SP2) — [загрузить обновление](http://www.microsoft.com/downloads/details.aspx?familyid=ecf69778-91f9-498e-a8bd-35208aa93051)
-   Microsoft Windows XP Professional x64 Edition и Microsoft Windows XP Professional x64 Edition с пакетом обновления 2 (SP2) — [загрузить обновление](http://www.microsoft.com/downloads/details.aspx?familyid=6ceb5b4f-861f-4f37-b4bc-e8a56382b833)

**Не подвержены уязвимости:**

-   Microsoft Windows 2000 с пакетом обновления 4 (SP4);
-   Microsoft Windows Server 2003, Microsoft Windows Server 2003 с пакетом обновления 1 (SP1) и Microsoft Windows Server 2003 с пакетом обновления 2 (SP2)
-   Microsoft Windows Server 2003 для платформы Itanium, Microsoft Windows Server 2003 с пакетом обновления 1 (SP1) для платформы Itanium и Microsoft Windows Server 2003 с пакетом обновления 2 (SP2) для платформы Itanium;
-   Microsoft Windows Server 2003 x64 Edition и Microsoft Windows Server 2003 x64 Edition с пакетом обновления 2 (SP2);
-   Windows Vista;
-   Windows Vista x64 Edition

Корпорация Майкрософт проверила на наличие уязвимости продукты перечисленных выше версий. Прочие системы не подвержены уязвимости, или жизненные циклы их поддержки истекли. Для получения сведений о жизненном цикле поддержки используемой версии продукта посетите [веб-узел Microsoft Support Lifecycle](http://go.microsoft.com/fwlink/?linkid=21742).

### Общие сведения

Аннотация
---------

<span></span>
**Аннотация**

Данное обновление устраняет недавно обнаруженную уязвимость, о которой сообщалось в частном порядке. Ее описанию посвящен раздел "Сведения об уязвимости" этого бюллетеня.

Корпорация Майкрософт рекомендует пользователям немедленно установить обновление.

**Уровень опасности и идентификатор уязвимости**

| Идентификаторы уязвимости                                                                                                                     | Воздействие уязвимости    | Microsoft Windows XP с пакетом обновления 2 (SP2); |
|-----------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|----------------------------------------------------|
| Уязвимость в службе UPnP, приводящая к повреждению памяти, — [CVE-2007-1204](http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=cve-2007-1204) | удаленное выполнение кода | Критический                                        |

Данные [оценки](http://go.microsoft.com/fwlink/?linkid=21140) уровня опасности определены с учетом типов уязвимых систем, стандартных схем их развертывания и возможных результатов успешного использования описанной уязвимости.

**Примечание**. Уровни опасности для операционных систем, не относящихся к версии x86, соотносятся с уровнями опасности для операционных систем версий x86 следующим образом.

-   Уровни опасности для систем Windows XP Professional x64 Edition и Windows XP Professional x64 Edition с пакетом обновления 2 (SP2) совпадают с уровнем опасности для системы Windows XP с пакетом обновления 2 (SP2).

Вопросы и ответы о данном обновлении безопасности
-------------------------------------------------

<span></span>
**Можно ли определить необходимость установки этого обновления с помощью анализатора безопасности Microsoft Baseline Security Analyzer (MBSA)? **
В следующей таблице приведены сведения об обнаружении данного обновления безопасности с помощью программы MBSA.

| Продукт                                                                                                                     | MBSA 1.2.1 | MBSA 2.0.1 |
|-----------------------------------------------------------------------------------------------------------------------------|------------|------------|
| Microsoft Windows XP с пакетом обновления 2 (SP2);                                                                          | Да.        | Да.        |
| Microsoft Windows XP Professional x64 Edition и Microsoft Windows XP Professional x64 Edition с пакетом обновления 2 (SP2); | Нет.       | Да.        |

Дополнительные сведения см. на веб-узле [MBSA](http://go.microsoft.com/fwlink/?linkid=21134). Дополнительные сведения о программах, которые Центр обновления Майкрософт и анализатор безопасности MBSA 2.0 на данный момент не обнаруживают, см. в [статье 895660 базы знаний Майкрософт](http://support.microsoft.com/kb/895660).

Дополнительные сведения см. в [статье 910723 базы знаний Майкрософт](http://support.microsoft.com/kb/910723). Обзор ежемесячных статей руководства по диагностике и развертыванию.

**Можно ли определить необходимость установки этого обновления с помощью сервера Systems Management Server (SMS)? **
В следующей таблице приведены сведения об обнаружении данного обновления безопасности с помощью программы SMS.

| Продукт                                                                                                                     | SMS 2.0 | SMS 2003 |
|-----------------------------------------------------------------------------------------------------------------------------|---------|----------|
| Microsoft Windows XP с пакетом обновления 2 (SP2);                                                                          | Да.     | Да.      |
| Microsoft Windows XP Professional x64 Edition и Microsoft Windows XP Professional x64 Edition с пакетом обновления 2 (SP2); | Нет.    | Да.      |

В пакетах Software Update Services (SUS) Feature Pack для серверов SMS 2.0 и SMS 2003 для поиска может использоваться средство MBSA 1.2.1. Поэтому на них распространяется то же ограничение относительно программ, не обнаруживаемых средством MBSA 1.2.1, о котором упоминалось ранее в данном бюллетене.

Для обнаружения обновлений для системы безопасности сервер SMS 2.0 может использовать пакет SMS SUS Feature Pack, в который входит средство Security Update Inventory Tool (SUIT). Средство SMS SUIT использует для обнаружения модуль MBSA 1.2.1. Для получения дополнительной информации о средстве SUIT посетите следующий [веб-узел корпорации Майкрософт](http://support.microsoft.com/kb/894154/). Дополнительные сведения об ограничениях средства SUIT см. в [статье 306460 базы знаний Майкрософт](http://support.microsoft.com/kb/306460/). В пакет SMS SUS Feature Pack также входит средство Microsoft Office Inventory Tool, позволяющее обнаруживать обновления для приложений Microsoft Office.

Сервер SMS 2003 может использовать средство SMS 2003 Inventory Tool for Microsoft Updates, чтобы обнаруживать обновления для системы безопасности, предлагаемые на веб-узле [Центра обновления Майкрософт](http://update.microsoft.com/microsoftupdate) и поддерживаемые службами [Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120). Для получения дополнительной информации о средстве SMS 2003 ITMU посетите следующий [веб-узел корпорации Майкрософт](http://go.microsoft.com/fwlink/?linkid=72181). Сервер SMS 2003 также может использовать средство Microsoft Office Inventory Tool для поиска необходимых обновлений для приложений Microsoft Office.

Для получения дополнительных сведений о SMS посетите [веб-узел SMS](http://go.microsoft.com/fwlink/?linkid=21158).

Дополнительные сведения см. в [статье 910723 базы знаний Майкрософт](http://support.microsoft.com/kb/910723). Обзор ежемесячных статей руководства по диагностике и развертыванию.

**На моем компьютере установлена более ранняя версия программного обеспечения, описанного в этом бюллетене по безопасности. Что делать? **
Продукты, перечисленные в этом бюллетене, были проверены на наличие уязвимости. Жизненные циклы поддержки прочих версий программного обеспечения истекли. Для получения сведений о жизненном цикле поддержки используемой версии продукта посетите [веб-узел Microsoft Support Lifecycle](http://support.microsoft.com/common/international.aspx?rdpath=gp;%5bln%5d;lifecycle).

Пользователям более ранних версий программного обеспечения следует срочно перейти на поддерживаемые версии, чтобы снизить вероятность наличия в системе уязвимостей. Для получения дополнительных сведений о жизненном цикле продуктов Windows посетите [веб-узел Microsoft Support Lifecycle](http://support.microsoft.com/common/international.aspx?rdpath=gp;%5bln%5d;lifecycle). Для получения дополнительных сведений о продленном периоде поддержки обновления безопасности для данных версий операционных систем посетите [веб-узел службы технической поддержки продуктов Microsoft](http://support.microsoft.com/gp/lifesupsps).

Для получения сведений о возможных вариантах обслуживания более ранних версий программного обеспечения свяжитесь с представителем группы по работе с заказчиками корпорации Майкрософт, ее техническим менеджером или представителем соответствующей партнерской компании Майкрософт. Пользователи, у которых нет договора типа Alliance, Premier или Authorized, могут обратиться в местное представительство корпорации Майкрософт. Для получения контактной информации посетите [веб-узел Microsoft Worldwide Information](http://www.microsoft.com/worldwide), выберите страну и затем нажмите кнопку **Go** (Переход), чтобы вывести список телефонных номеров. Дозвонившись, попросите связать вас с менеджером по продажам службы поддержки Premier. Дополнительную информацию можно получить в разделе[Windows Operating System Product Support Lifecycle FAQ](http://support.microsoft.com/default.aspx?scid=fh;%5bln%5d;lifewinfaq).

Сведения об уязвимости
----------------------

<span></span>
#### Уязвимость в службе UPnP, приводящая к повреждению памяти, — CVE-2007-1204

В способе обработки службой UPnP специально созданных HTTP-запросов существует уязвимость удаленного выполнения кода. Злоумышленник, который воспользуется ею, может запустить произвольный код в контексте локальной службы.

#### Факторы, снижающие опасность уязвимости в службе UPnP, которая приводит к повреждению памяти, — CVE-2007-1204

-   Злоумышленник, воспользовавшийся данной уязвимостью, может запустить код только в контексте учетной записи локальной службы. В контексте учетной записи локальной системы это сделать не удастся.
-   По умолчанию в уязвимых системах для службы UPnP установлен параметр "Вручную".
-   Стандартные параметры конфигурации брандмауэра позволяют защитить сеть от атак из-за пределов среды организации. На непосредственно подключенных к Интернету системах рекомендуется держать открытыми минимально необходимое количество портов.

#### Методы обхода уязвимости в службе UPnP, приводящей к повреждению памяти, — CVE-2007-1204

Корпорация Майкрософт проверила представленные ниже методы обхода проблемы. Хотя данные меры не устраняют саму уязвимость, они позволяют блокировать известные направления атак. Если методы обхода снижают функциональность, в следующем разделе это отмечено особо.

-   **Заблокируйте на брандмауэре:**

    -   UDP-порт 1900 и TCP-порт 2869

    В UPnP-инфраструктуре используются UDP-порт 1900 и TCP-порт 2869. SSDP-протокол отправляет многоадресные поисковые запросы для обнаружения UPnP-устройств. Эти запросы отправляются на UDP-порт 1900 через динамические исходящие порты. В течение трех секунд с момента отправки многоадресных поисковых запросов брандмауэр Windows принимает соответствующие им ответы. По истечении этого времени брандмауэр блокирует все ответы, даже если они отвечают критериям отправленных поисковых запросов. Дополнительные сведения о влиянии настроек брандмауэра на службу UPnP см. в [статье 886257 базы знаний Майкрософт](http://support.microsoft.com/kb/886257).

    **Побочные эффекты.**

    -   UPnP-инфраструктура не обнаруживает UPnP-устройства, объявляющие о себе самостоятельно. Брандмауэр блокирует эти входящие объявления.
    -   Если контрольная точка запущена на другом компьютере, находить и контролировать UPnP-устройства в системе Windows XP с пакетом обновления 2 (SP2) не удастся. Брандмауэр блокирует все входящие сообщения от UPnP-устройств.

    **Отмена изменений**

    Чтобы отменить изменения, повторно включите UDP-порт 1900 и TCP-порт 2869 на брандмауэре.

-   **Отключение службы UPnP**

    Отключение службы UPnP поможет защитить систему от попыток воспользоваться уязвимостью. Чтобы отключить службу UPnP, выполните следующие действия.

    1.  Откройте меню **Пуск** и выберите команду **Панель управления** .Кроме того, можно последовательно выбрать пункты **Настройка** и **Панель управления**.
    2.  Дважды щелкните **Администрирование**.
    3.  Дважды щелкните **Службы**.
    4.  Дважды щелкните **Узел универсальных PnP-устройств**.
    5.  В списке **Тип запуска** щелкните **Отменено**.
    6.  Щелкните **Остановка**, а затем щелкните **OK**.

    Службу UPnP можно остановить и отключить, введя в командной строке следующую команду:

    `sc stop UPnPHost &sc config UPnPHost start= disabled`

    **Побочные эффекты.** После отключения службы UPnP зависящие от нее компоненты могут работать неправильно.

    **Отмена изменений**

    Чтобы отменить изменения, повторно включите службу UPnP. Для этого выполните следующие действия:

    1.  Откройте меню **Пуск** и выберите команду **Панель управления** .Кроме того, можно последовательно выбрать пункты **Настройка** и **Панель управления**.
    2.  Дважды щелкните **Администрирование**.
    3.  Дважды щелкните **Службы**.
    4.  Дважды щелкните **Узел универсальных PnP-устройств**.
    5.  В списке **Тип запуска** выберите пункт **Вручную**.
    6.  Откройте меню **Пуск** и выберите команду **Выполнить**.

-   **Для защиты от попыток воспользоваться уязвимостью из сети включите расширенную фильтрацию TCP/IP в системах, которые поддерживают данную функцию.**

    Чтобы заблокировать непредусмотренный входящий трафик, включите расширенную фильтрацию TCP/IP. Дополнительные сведения о настройке фильтрации TCP/IP см. в [статье 309798 базы знаний Майкрософт](http://support.microsoft.com/kb/309798).

-   **Для защиты от попыток воспользоваться уязвимостью из сети заблокируйте уязвимые порты систем с помощью IPsec.**

    Используйте безопасный IP-протокол (IPSec) для защиты работы в сети. Для получения подробных сведения о IPSec и использовании фильтров обратитесь к [статьям 313190](http://support.microsoft.com/kb/313190) и [813878 базы знаний Майкрософт](http://support.microsoft.com/kb/813878).

#### Вопросы и ответы об уязвимости в службе UPnP, приводящей к повреждению памяти, — CVE-2007-1204

**Какова область воздействия данной уязвимости? **
В способе обработки службой UPnP специально созданных HTTP-запросов существует уязвимость удаленного выполнения кода. Злоумышленник может напрямую отправить эти HTTP-запросы целевому компьютеру, находясь с ним в одной подсети. Брандмауэр Windows XP и протокол применяют это ограничение подсети. Злоумышленник, который воспользуется ею, может запустить произвольный код в контексте учетной записи локальной службы.

**В чем причина уязвимости? **
При обработке службой UPnP специально созданных HTTP-запросов может произойти повреждение памяти, которое позволит злоумышленнику выполнить произвольный код.

**Что такое UPnP? **
UPnP — это набор сетевых протоколов, которые расширяют возможности технологии Plug and Play и позволяют упростить подключение к сети интеллектуальных домашних и корпоративных устройств. Если устройства с поддержкой UPnP-технологии физически подключены к сети, они автоматически подключатся друг к другу (дополнительная настройка и присутствие централизованных серверов не обязательны).

**Что может сделать злоумышленник, воспользовавшись этой уязвимостью? **
Воспользовавшись уязвимостью, злоумышленник может захватить полный контроль над системой.

**Какие системы подвергаются риску воздействия этой уязвимости в первую очередь? **
В первую очередь риску подвергаются рабочие станции и клиентские компьютеры. Серверы терминалов и прочие не подвержены воздействию данной уязвимости, так как не имеют уязвимого UPnP-компонента. Системы, в которых установлены компоненты, работающие со службой UPnP, могут быть подвержены риску.

**Можно ли воспользоваться данной уязвимостью через Интернет? **
Злоумышленник может воспользоваться этой уязвимостью, находясь в той же подсети, что и целевой компьютер. Злоумышленник может напрямую отправить эти HTTP-запросы целевому компьютеру, находясь с ним в одной подсети. Рекомендуемые и стандартные параметры конфигурации брандмауэра позволяют защититься от атак из Интернета.

**Как действует обновление? **
Обновление устраняет эту уязвимость, изменяя способ проверки HTTP-запросов службой UPnP перед передачей данных в выделенный буфер.

**Было ли объявлено об уязвимости до выпуска этого бюллетеня по безопасности? **
Нет. Корпорация Майкрософт получила информацию об этой уязвимости из достоверных источников.

**Получала ли корпорация Майкрософт к моменту выпуска этого бюллетеня по безопасности какие-либо сведения о том, что уязвимость была использована злоумышленниками? **
Нет. Корпорация Майкрософт не получала никакой информации, указывающей на то, что эта уязвимость была открыто использована для атак на пользователей, и ей не были представлены никакие доказательства публикации концептуального кода до первоначального выпуска этого бюллетеня безопасности.

Сведения об обновлении для системы безопасности
-----------------------------------------------

<span></span>
**Подвержены уязвимости:**

Чтобы получить сведения о нужной версии обновления для системы безопасности, щелкните соответствующую ссылку.

#### Windows XP (все версии)

**Необходимые условия**
Это обновление для системы безопасности требует наличия системы Windows XP с пакетом обновления 2 (SP2) или Windows XP Professional x64 Edition. Дополнительные сведения о получении последнего пакета обновления для системы Windows XP см. [в статье 322389 базы знаний Майкрософт](http://support.microsoft.com/kb/322389). Дополнительные сведения о получении пакета обновления 2 (SP2) для системы Windows XP Professional x64 Edition см. на веб-узле [центра загрузки](http://www.microsoft.com/downloads/details.aspx?familyid=893fd6c0-6283-44c3-bb84-b2f0315b2ae6).

**Включение в будущие пакеты обновления**
Обновление для устранения этой уязвимости будет включено в следующий пакет обновления или сборник обновлений.

**Сведения об установке**

Обновление для системы безопасности поддерживает следующие параметры командной строки.

<table class="dataTable">
<caption>
Поддерживаемые параметры установки программы обновления безопасности
</caption>
<tr class="thead">
<th style="border:1px solid black;" >
Параметр
</th>
<th style="border:1px solid black;" >
Описание
</th>
</tr>
<tr>
<td style="border:1px solid black;">
**/help**
</td>
<td style="border:1px solid black;">
Отображает параметры командной строки.
</td>
</tr>
<tr>
<th colspan="2">
Режимы установки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/passive**
</td>
<td style="border:1px solid black;">
Автоматический режим установки. Вмешательства пользователя не требуется, но отображается состояние установки. Если по окончании установки требуется перезагрузка, на экране появится диалоговое окно, предупреждающее о перезагрузке компьютера через 30 секунд.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/quiet**
</td>
<td style="border:1px solid black;">
Полностью автоматический (тихий) режим. Режим, аналогичный автоматическому, но без отображения состояния или сообщений об ошибках.
</td>
</tr>
<tr>
<th colspan="2">
Параметры перезагрузки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/norestart**
</td>
<td style="border:1px solid black;">
После установки перезагрузка компьютера не выполняется.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/forcerestart**
</td>
<td style="border:1px solid black;">
Перезагружает компьютер после установки и принудительно закрывает все приложения без предварительного сохранения открытых файлов.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/warnrestart\[:x\]**
</td>
<td style="border:1px solid black;">
Выводит диалоговое окно, предупреждающее пользователя о том, что компьютер будет перезагружен через *x* секунд. (Значение по умолчанию — 30 секунд.) Используется с параметрами **/quiet** или **/passive**.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/promptrestart**
</td>
<td style="border:1px solid black;">
Отображает диалоговое окно с запросом на перезагрузку.
</td>
</tr>
<tr>
<th colspan="2">
Специальные параметры
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/overwriteoem**
</td>
<td style="border:1px solid black;">
Заменяет файлы OEM без вывода соответствующего запроса.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/nobackup**
</td>
<td style="border:1px solid black;">
Не создает резервных копий файлов на случай удаления.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/forceappsclose**
</td>
<td style="border:1px solid black;">
Завершает работу других программ перед выключением компьютера.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/log:path**
</td>
<td style="border:1px solid black;">
Обеспечивает переадресацию файлов журнала установки.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/integrate:path**
</td>
<td style="border:1px solid black;">
Интегрирует обновление в исходные файлы Windows. Путь доступа к этим файлам указан в параметре.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/extract\[:path\]**
</td>
<td style="border:1px solid black;">
Извлекает файлы без запуска программы установки.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/ER**
</td>
<td style="border:1px solid black;">
Создает расширенные отчеты об ошибках.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/verbose**
</td>
<td style="border:1px solid black;">
Обеспечивает подробное протоколирование в журнале. Во время установки создает журнал %Windir%\\CabBuild.log. В этом журнале приводится информация о копируемых файлах. Использование этого параметра может замедлить процесс установки.
</td>
</tr>
</table>
 
**Примечание.** Несколько параметров можно использовать в одной командной строке. Для обеспечения обратной совместимости обновлениями безопасности поддерживаются параметры, которые использовались в программе установки более ранней версии. Дополнительные сведения о поддерживаемых параметрах установки можно найти в [статье 262841 базы знаний Майкрософт](http://support.microsoft.com/kb/262841). Для получения подробной информации о программе установки Update.exe посетите [веб-узел Microsoft TechNet](http://go.microsoft.com/fwlink/?linkid=38951).

**Сведения о развертывании**

Чтобы установить обновление безопасности без вмешательства пользователя на компьютере под управлением Microsoft Windows XP, введите следующую команду:

**Windowsxp-kb931261-x86-enu /quiet**

**Примечание.** Использование параметра **/quiet** приведет к отключению всех сообщений. Сообщения об ошибках также не будут выводиться. При использовании параметра **/quiet** администратор должен проверить успешность установки при помощи какого-либо из поддерживаемых методов. Кроме того, необходимо проверить файл KB931261.log на наличие сообщений о сбое.

Чтобы установить обновление безопасности на компьютере под управлением Windows XP без последующей перезагрузки, введите следующую команду:

**Windowsxp-kb931261-x86-enu /norestart**

Для получения более подробных сведений о развертывании данного обновления с помощью служб Software Update Services посетите [веб-узел Software Update Services](http://go.microsoft.com/fwlink/?linkid=21125). Для получения дополнительной информации о развертывании данного обновления безопасности с помощью служб Windows Server Update Services посетите[веб-узел служб Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120). Это обновление будет также доступно [на веб-узле Центра обновления Майкрософт](http://update.microsoft.com/microsoftupdate).

**Необходимость перезагрузки**

После установки обновления компьютер необходимо перезагрузить. Для получения дополнительной информации о причинах необходимости перезагрузки ознакомьтесь со [статьей 887012 базы знаний Майкрософт](http://support.microsoft.com/kb/887012).

**Сведения об удалении**

Для удаления обновления для системы безопасности воспользуйтесь компонентом "Установка и удаление программ" панели управления.

Кроме того, системные администраторы могут использовать для этой цели программу Spuninst.exe. Программа Spuninst.exe находится в папке %Windir%\\$NTUninstallKB931261$\\Spuninst.

<table class="dataTable">
<caption>
Поддерживаемые параметры Spuninst.exe
</caption>
<tr class="thead">
<th style="border:1px solid black;" >
Параметр
</th>
<th style="border:1px solid black;" >
Описание
</th>
</tr>
<tr>
<td style="border:1px solid black;">
**/help**
</td>
<td style="border:1px solid black;">
Отображает параметры командной строки.
</td>
</tr>
<tr>
<th colspan="2">
Режимы установки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/passive**
</td>
<td style="border:1px solid black;">
Автоматический режим установки. Вмешательства пользователя не требуется, но отображается состояние установки. Если по окончании установки требуется перезагрузка, на экране появится диалоговое окно, предупреждающее о перезагрузке компьютера через 30 секунд.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/quiet**
</td>
<td style="border:1px solid black;">
Полностью автоматический (тихий) режим. Режим, аналогичный автоматическому, но без отображения состояния или сообщений об ошибках.
</td>
</tr>
<tr>
<th colspan="2">
Параметры перезагрузки
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/norestart**
</td>
<td style="border:1px solid black;">
После установки перезагрузка компьютера не выполняется.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/forcerestart**
</td>
<td style="border:1px solid black;">
Перезагружает компьютер после установки и принудительно закрывает все приложения без предварительного сохранения открытых файлов.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/warnrestart\[:x\]**
</td>
<td style="border:1px solid black;">
Выводит диалоговое окно, предупреждающее пользователя о том, что компьютер будет перезагружен через *x* секунд. (Значение по умолчанию — 30 секунд.) Используется с параметрами **/quiet** или **/passive**.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/promptrestart**
</td>
<td style="border:1px solid black;">
Отображает диалоговое окно с запросом на перезагрузку.
</td>
</tr>
<tr>
<th colspan="2">
Специальные параметры
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/forceappsclose**
</td>
<td style="border:1px solid black;">
Завершает работу других программ перед выключением компьютера.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/log:path**
</td>
<td style="border:1px solid black;">
Обеспечивает переадресацию файлов журнала установки.
</td>
</tr>
</table>
 
**Сведения о файлах**

Английская версия обновления содержит версии файлов, приведенные в следующей таблице. Дата и время указаны в формате всемирного универсального времени (UTC). При просмотре сведений о файле в системе производится перевод соответствующих значений в местное время. Чтобы определить разницу между временем по Гринвичу и местным временем, воспользуйтесь вкладкой **Часовой пояс** компонента Дата и время панели управления.

Windows XP Home Edition с пакетом обновления 2 (SP2), Windows XP Professional с пакетом обновления 2 (SP2), Windows XP Tablet PC Edition 2005 и Windows XP Media Center Edition 2005:

| Имя файла    | Версия        | Date        | Время | Размер  | Папка  |
|--------------|---------------|-------------|-------|---------|--------|
| Upnphost.dll | 5.1.2600.3077 | 05-фев-2007 | 20:17 | 185 344 | SP2GDR |
| Upnphost.dll | 5.1.2600.3077 | 05-фев-2007 | 20:19 | 185 344 | SP2QFE |

Windows XP Professional x64 Edition и Windows XP Professional x64 Edition с пакетом обновления 2 (SP2)

| Имя файла     | Версия        | Date        | Время | Размер  | Процессор | Папка       |
|---------------|---------------|-------------|-------|---------|-----------|-------------|
| upnphost.dll  | 5.2.3790.2878 | 08-фев-2007 | 16:41 | 322 048 | x64       | SP1GDR      |
| wupnphost.dll | 5.2.3790.2878 | 08-фев-2007 | 16:41 | 189 952 | X86       | SP1GDR\\WOW |
| upnphost.dll  | 5.2.3790.2878 | 08-фев-2007 | 16:41 | 322 048 | x64       | SP1QFE      |
| wupnphost.dll | 5.2.3790.2878 | 08-фев-2007 | 16:41 | 189 952 | X86       | SP1QFE\\WOW |
| upnphost.dll  | 5.2.3790.4019 | 08-фев-2007 | 16:51 | 322 048 | x64       | SP2GDR      |
| wupnphost.dll | 5.2.3790.4019 | 08-фев-2007 | 16:51 | 189 952 | X86       | SP2GDR\\WOW |
| upnphost.dll  | 5.2.3790.4019 | 08-фев-2007 | 16:40 | 322 048 | x64       | SP2QFE      |
| wupnphost.dll | 5.2.3790.4019 | 08-фев-2007 | 16:40 | 189 952 | X86       | SP2QFE\\WOW |

**Примечание**. При установке данных обновлений программа установки проверяет, не выполнялось ли ранее с помощью исправлений Майкрософт обновление файлов, которые предстоит обновить.

Если один из файлов был обновлен ранее другим исправлением, установщик копирует на компьютер файлы RTMQFE, SP1QFE и SP2QFE. В противном случае будут скопированы файлы RTMGDR, SP1GDR или SP2GDR. Обновления для системы безопасности могут не содержать всех этих вариантов. Дополнительную информацию о поведении такого рода см. в [статье 824994 базы знаний Майкрософт](http://support.microsoft.com/kb/824994).

Для получения дополнительной информации о программе установки Update.exe посетите [веб-узел Microsoft TechNet](http://go.microsoft.com/fwlink/?linkid=38951).

Для получения подробных сведений о терминологии, встречающейся в этом бюллетене, например, *исправление*, обратитесь к [статье 824684 базы знаний Майкрософт](http://support.microsoft.com/kb/824684).

**Проверка успешного применения обновления**

-   **Программа Microsoft Baseline Security Analyzer**

    Для проверки успешного применения обновления безопасности можно воспользоваться средством Microsoft Baseline Security Analyzer (MBSA). См. пункт "Можно ли определить необходимость установки этого обновления с помощью анализатора безопасности Microsoft Baseline Security Analyzer (MBSA)?" в разделе "Часто задаваемые вопросы об этом обновлении безопасности" данного бюллетеня.

-   **Проверка версий файлов**

    **Примечание.** На каждом конкретном компьютере эти действия определяются установленной версией операционной системы Microsoft Windows. В случае затруднений для выполнения процедуры обратитесь к документации по установленной версии продукта.

    1.  Нажмите кнопку **Пуск** и выберите пункт **Найти**.
    2.  На панели **Результаты поиска** в области **Помощник по поиску** выберите пункт **Файлы и папки**.
    3.  В области **Часть имени или имя файла целиком** введите имя файла из соответствующей справочной таблицы по файлам и нажмите кнопку **Найти**.
    4.  В списке файлов щелкните правой кнопкой мыши имя файла из соответствующей таблицы сведений о файлах и выберите **Свойства**.
        **Примечание.** В зависимости от версии операционной системы или установленных программ некоторые из файлов, перечисленных в таблице сведений о файлах, могут быть не установлены.
    5.  На вкладке **Версия** определите версию файла, устанавливаемого на компьютере, сравнив ее с версией, приведенной в соответствующей таблице сведений о файлах.
        **Примечание**. Все атрибуты, кроме версии файла, в ходе установки могут изменяться. Проверка того, что обновление было применено, путем сравнения других атрибутов файла с данными из таблицы сведений о файлах не поддерживается. Кроме того, при определенных условиях файлы в ходе установки могут быть переименованы. Если сведения о файле или версии отсутствуют, обратитесь к другим доступным методам проверки установки обновления.

-   **Проверка параметров системного реестра**

    Файлы, установленные этим обновлением системы безопасности, также можно проверить, открыв следующие разделы реестра.

    Для Windows XP Home Edition с пакетом обновления 2, Windows XP Professional с пакетом обновления 2, Windows XP Tablet PC Edition 2005 и Windows XP Media Center Edition 2005:

    HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Updates\\Windows XP\\SP3\\KB931261\\Filelist

    Для Windows XP Professional x64 Edition и Windows XP Professional x64 с пакетом обновления 2 (SP2):

    HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Updates\\Windows XP Version 2003\\SP3\\KB931261\\Filelist

    **Примечание.** Эти разделы реестра могут не содержать полного списка установленных файлов. Кроме того, они могут быть созданы неправильно, если администратор или сборщик систем интегрирует или добавляет обновление для системы безопасности 931261 в исходные установочные файлы Windows.

### Прочие сведения

**Благодарности**

Корпорация Майкрософт [благодарит](http://go.microsoft.com/fwlink/?linkid=21127) за проведенную совместно работу по защите пользователей:

-   Грега Мак-Мануса (Greg MacManus) из компании [iDefense](http://labs.idefense.com/) за сообщение об уязвимости в службе UPnP, приводящей к повреждению памяти (CVE-2007-1204).

**Другие обновления безопасности:**

Другие обновления для системы безопасности можно загрузить по следующим ссылкам:

-   Обновления безопасности доступны на веб-узле [центра загрузки Microsoft](http://go.microsoft.com/fwlink/?linkid=21129). Самый простой способ найти обновление — выполнить поиск по ключевому слову «security\_patch».
-   Для получения обновлений для пользовательских систем обращайтесь на [веб-узел Центра обновления Майкрософт](http://go.microsoft.com/fwlink/?linkid=40747).

**Поддержка:**

-   Обращайтесь в [службу поддержки продуктов корпорации Майкрософт](http://go.microsoft.com/fwlink/?linkid=21131) по телефону 1-866-PCSAFETY (для жителей США и Канады). Звонки, связанные с обновлениями безопасности, обслуживаются бесплатно.
-   Пользователям в других странах для получения поддержки следует обращаться в местные представительства корпорации Майкрософт. Звонки, связанные с обновлениями безопасности, обслуживаются бесплатно. Для получения дополнительных сведений о службе поддержки корпорации Майкрософт посетите [веб-узел международной поддержки](http://go.microsoft.com/fwlink/?linkid=21155).

**Источники сведений по безопасности:**

-   Дополнительные сведения о безопасности продуктов корпорации Майкрософт см. на веб-узле [Microsoft TechNet Security](http://go.microsoft.com/fwlink/?linkid=21132).
-   [Центр TechNet Update Management Center](http://go.microsoft.com/fwlink/?linkid=69903)
-   [Службы Microsoft Software Update Services](http://go.microsoft.com/fwlink/?linkid=21133)
-   [Службы Microsoft Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120)
-   Средство MBSA ([Microsoft Baseline Security Analyzer](http://go.microsoft.com/fwlink/?linkid=21134)).
-   [Веб-узел Windows Update](http://go.microsoft.com/fwlink/?linkid=21130)
-   [Веб-узел Microsoft Update](http://update.microsoft.com/microsoftupdate)
-   Каталог Центра обновления Windows: Дополнительные сведения о каталоге Центра обновления Windows см. в [статье 323166 базы знаний Майкрософт](http://support.microsoft.com/kb/323166).
-   [Веб-узел Office Update](http://go.microsoft.com/fwlink/?linkid=21135)

**Службы Software Update Services**

Службы Microsoft Software Update Services (SUS) позволяют администратору быстро и надежно устанавливать последние критические обновления и обновления безопасности на серверах, работающих под управлением Windows 2000 и Windows Server 2003, а также на настольных компьютерах, работающих под управлением Windows 2000 Professional и Windows XP Professional.

Для получения более подробных сведений о развертывании обновлений безопасности с помощью служб Software Update Services посетите [веб-узел Software Update Services](http://go.microsoft.com/fwlink/?linkid=21133).

**Службы Windows Server Update Services**

Службы Windows Server Update Services (WSUS) позволяют администраторам быстро и надежно развертывать последние критические обновления и обновления безопасности для операционных систем Windows 2000 и более поздних версий, Office XP и более поздних версий, Exchange Server 2003 и SQL Server 2000 на системах Windows 2000, а также более поздних версиях операционных систем.

Для получения дополнительной информации о развертывании обновлений безопасности с помощью служб Windows Server Update Services посетите[веб-узел служб Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120).

**Systems Management Server:**

Сервер Systems Management Server (SMS) корпорации Майкрософт предоставляет полностью настраиваемое решение для управления обновлениями в масштабах предприятия. С помощью сервера SMS администраторы могут определять необходимость установки обновлений безопасности на системах Windows и выполнять управляемое развертывание этих обновлений по всему предприятию с минимальными нарушениями работы конечных пользователей. С помощью сервера SMS администраторы могут определять необходимость установки обновлений безопасности на системах Windows и выполнять управляемое развертывание этих обновлений по всему предприятию с минимальными нарушениями работы конечных пользователей. Дополнительные сведения о том, как администраторы могут использовать сервер SMS 2003 для развертывания обновлений, см. на [веб-узле управления исправлениями для системы безопасности сервера SMS 2003](http://go.microsoft.com/fwlink/?linkid=22939). Пользователи сервера SMS 2.0 могут также применять пакет [Software Updates Service Feature Pack](http://go.microsoft.com/fwlink/?linkid=33340), с помощью которого упрощается развертывание обновлений системы безопасности. Дополнительные сведения о сервере SMS см. на [веб-узле SMS.](http://go.microsoft.com/fwlink/?linkid=21158)

**Примечание**. Для предоставления широкой поддержки при определении необходимости применения и развертывания обновлений, описанных в бюллетенях по безопасности, сервером SMS используются анализатор безопасности Microsoft Baseline Security Analyzer, средства Microsoft Office Detection Tool и Enterprise Update Scanning Tool. С помощью этих средств не всегда удается определить необходимость некоторых обновлений программного обеспечения. В этих случаях для определения компьютеров, на которых требуется установка обновлений, администраторы могут воспользоваться учетными функциями SMS. Дополнительные сведения об этой процедуре см. на [веб-узле](http://go.microsoft.com/fwlink/?linkid=33341). При установке некоторых обновлений безопасности для продолжения работы на компьютере после его перезагрузки потребуется наличие соответствующих полномочий администратора. Администраторы могут устанавливать эти обновления с помощью средства Elevated Rights Deployment Tool (входит в состав пакетов [SMS 2003 Administration Feature Pack](http://go.microsoft.com/fwlink/?linkid=33387) и [SMS 2.0 Administration Feature Pack](http://go.microsoft.com/fwlink/?linkid=21161)).

**Отказ от гарантий:**

Сведения в статьях базы знаний Майкрософт предоставляются без каких-либо гарантий. Корпорация Майкрософт не предоставляет каких-либо гарантий, явных или подразумеваемых, включая любые гарантии товарности или пригодности для использования в определенных целях. Корпорация Майкрософт и ее поставщики ни при каких обстоятельствах не несут ответственности за возможный ущерб, включая косвенный, случайный, прямой, опосредованный и специальный ущерб, а также упущенную выгоду, даже если корпорация Майкрософт или ее поставщики заранее были извещены о возможности такого ущерба. Если действующее законодательство не допускает отказа от ответственности за косвенный или случайный ущерб, то описанные выше ограничения не действуют.

**Редакции:**

-   Версия 1.0 (10 апреля 2007 г.) Бюллетень опубликован.

*Built at 2014-04-18T01:50:00Z-07:00*
