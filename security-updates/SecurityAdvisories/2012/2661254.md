---
TOCTitle: 2661254
Title: 'Советы по безопасности (Microsoft) 2661254'
ms:assetid: 2661254
ms:contentKeyID: 61235876
ms:mtpsurl: 'https://technet.microsoft.com/ru-RU/library/2661254(v=Security.10)'
---

Security Advisory

Советы по безопасности (Microsoft) 2661254
==========================================

Обновление для минимальной длины ключа сертификата
--------------------------------------------------

Дата публикации: 14 августа 2012 г. | Дата обновления: 9 октября 2012 г.

**Версия:** 2.0

### Общие сведения

#### Аннотация

Корпорация Майкрософт объявляет о выпуске обновления Windows, которое ограничивает использование слабых ключей длиной менее 1024 бит. Используя производные от ключей этих сертификатов, злоумышленник может создать дубликат сертификата и использовать его в мошеннических целях, таких как подмена содержимого, фишинговые атаки или атаки типа "злоумышленник в среде".

**Примечание** Это обновление затрагивает приложения и службы, которые используют ключи RSA для шифрования и вызова функции [CertGetCertificateChain](http://msdn.microsoft.com/library/windows/desktop/aa376078.aspx). Эти приложения и службы больше не будут доверять сертификатам с ключами RSA длиной менее 1024 бит. Среди затронутых приложений и служб, в частности, электронная почта с шифрованием, каналы шифрования SSL/TLS, подписанные приложения и среды PKI с закрытыми ключами. Это обновление не затрагивает сертификаты, использующие алгоритмы шифрования, отличные от RSA. Более подробные сведения о приложениях и службах, затронутых этим обновлением, см. в [статье 2661254 базы знаний Майкрософт](http://support.microsoft.com/kb/2661254).

Данное обновление доступно в [Центр загрузки](http://www.microsoft.com/download/default.aspx), а также в [каталоге Центра обновления Майкрософт](http://go.microsoft.com/fwlink/?linkid=96155) для всех поддерживаемых выпусков Microsoft Windows. Кроме того, начиная с 9 октября 2012 г. это обновление будет распространяться через автоматическое обновление и службу [Центр обновления Майкрософт](http://go.microsoft.com/fwlink/?linkid=40747).

**Рекомендация.** Корпорация Майкрософт рекомендует установить это обновление при первой возможности. Более подробные сведения см. в разделе **Предлагаемые действия** данного выпуска советов по безопасности.

**Известные проблемы.** В [статье 2661254 базы знаний Майкрософт](http://support.microsoft.com/kb/2661254) описаны известные на данный момент проблемы, с которыми пользователи могут столкнуться при установке этого обновления. В этой статье также приводятся решения, рекомендованные для устранения этих проблем.

### Подробная информация

#### Справочные материалы

Дополнительные сведения о данной проблеме см. в следующих источниках.

| Источник                          | Идентификатор                                      |
|-----------------------------------|----------------------------------------------------|
| **Статья базы знаний Майкрософт** | [2661254](http://support.microsoft.com/kb/2661254) |

#### Уязвимое программное обеспечение и устройства

Данный выпуск советов касается следующего программного обеспечения.

| Операционная система                                                                                                                                         |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Windows XP с пакетом обновления 3 (SP3)                                                                                                                      |
| Windows XP Professional x64 Edition с пакетом обновления 2 (SP2)                                                                                             |
| Windows Server 2003 с пакетом обновления 2 (SP2)                                                                                                             |
| Windows Server 2003 x64 Edition с пакетом обновления 2 (SP2)                                                                                                 |
| Windows Server 2003 for Itanium-based Systems с пакетом обновления 2 (SP2)                                                                                   |
| Windows Vista с пакетом обновления 2 (SP2)                                                                                                                   |
| Windows Vista x64 Edition с пакетом обновления 2 (SP2)                                                                                                       |
| Windows Server 2008 с пакетом обновления 2 (SP2) для 32-разрядных систем                                                                                     |
| Windows Server 2008 с пакетом обновления 2 (SP2) для 64-разрядных систем                                                                                     |
| Windows Server 2008 for Itanium-based Systems с пакетом обновления 2 (SP2)                                                                                   |
| Windows 7 для 32-разрядных систем и Windows 7 для 32-разрядных систем с пакетом обновления 1 (SP1)                                                           |
| Windows 7 для компьютеров на базе x64-процессоров и Windows 7 для компьютеров на базе x64-процессоров с пакетом обновления 1 (SP1)                           |
| Windows Server 2008 R2 для компьютеров на базе x64-процессоров и Windows Server 2008 R2 для компьютеров на базе x64-процессоров с пакетом обновления 1 (SP1) |
| Windows Server 2008 R2 for Itanium-based Systems и Windows Server 2008 R2 for Itanium-based Systems с пакетом обновления 1 (SP1)                             |
| Вариант установки ядра сервера                                                                                                                               |
| Windows Server 2008 для 32-разрядных систем с пакетом обновления 2 (SP2) (установка основных серверных компонентов)                                          |
| Windows Server 2008 для 64-разрядных систем с пакетом обновления 2 (SP2) (установка основных серверных компонентов)                                          |
| Windows Server 2008 R2 для 64-разрядных систем и Windows Server 2008 R2 для 64-разрядных систем с пакетом обновления 1 (SP1) (установка ядра сервера)        |

Часто задаваемые вопросы
------------------------

<span></span>
**Почему была выпущена** **новая версия советов** **9 октября 2012 г.?**
Корпорация Microsoft выпустила новую версию этих советов по следующим причинам:

-   Чтобы предложить новую версию обновления KB2661254 для Windows XP для устранения проблемы, которая связана с отдельными цифровыми сертификатами, созданными Майкрософт без правильных атрибутов отметки времени. Дополнительные сведения о данной проблеме см. в [выпуске 2749655 Советов по безопасности (Microsoft)](http://technet.microsoft.com/security/advisory/2749655). Пользователям, которые уже успешно установили это обновление на свои компьютеры под управлением Windows XP, не требуется выполнять никаких действий. Кроме того, это обновление не будет повторно предлагаться пользователям, если оно уже установлено у них на компьютере. Повторно выпущенное обновление относится только к компьютерам под управлением Windows XP, на которых это обновление не было установлено.
-   Информация об обновлении KB2661254 для всех поддерживаемых версий Microsoft Windows сейчас распространяется через автоматическое обновление.

**Почему выпущена новая редакция этого выпуска советов по безопасности от 11 сентября 2012 г.?**
Корпорация Microsoft выпустила новую редакцию этого выпуска советов, так как в нее добавлено объяснение, что это обновление затрагивает приложения и службы, использующие ключи RSA для шифрования и вызова функции CertGetCertificateChain. Среди таких приложений и служб, в частности, электронная почта с шифрованием, каналы шифрования SSL/TLS, подписанные приложения и среды PKI с закрытыми ключами.

Более подробные сведения о возможных последствиях для пользователей и известных проблемах, с которыми пользователи могут столкнуться при установке этого обновления, см. в [статье 2661254 базы знаний Майкрософт](http://support.microsoft.com/kb/2661254).

**Какова область действия данных советов?**
Данный сборник советов по безопасности выпущен с целью уведомления пользователей о том, что это обновление доступно для всех поддерживаемых версий Microsoft Windows, длина ключей RSA для которых должна быть не менее 1024. Сертификаты с ключами RSA длиной менее 1024 бит могут быть выпущены быстро и допускают возможность того, что злоумышленник может дублировать эти сертификаты и использовать их для подделки контента, фишинговых атак и атак "злоумышленник в середине". Это обновление всесторонне проверено и обладает достаточным качеством для выпуска. До момента официального распространения обновления через [Центр обновлений Майкрософт](http://go.microsoft.com/fwlink/?linkid=40747) его можно загрузить в Центре загрузок, который предоставляет пользователям возможность доступа к среде и перевыпуска нужных сертификатов.

**В каких мошеннических целях** **злоумышленник** может использовать сертификаты?
Злоумышленник может создать дубликат сертификата и использовать его в мошеннических целях, таких как подмена содержимого, фишинговые атаки или атаки типа "злоумышленник в среде".

**Как злоумышленник может дуплицировать сертификат?**
Цифровую подпись может создать только пользователь, имеющий закрытый ключ сертификата. Злоумышленник может попытаться угадать закрытый ключ и использовать математические способы для проверки правильности угаданного ключа. Трудность угадывания закрытого ключа прямо пропорциональна количеству битов, использованных в ключе. Поэтому чем больше число битов, тем труднее злоумышленнику угадать закрытый ключ. С помощью современного оборудования ключи длиной менее 1024 бит можно угадать довольно быстро. Если злоумышленник угадает закрытый ключ, он сможет создать дубликат сертификата и использовать его в мошеннических целях, таких как подмена содержимого, фишинговые атаки или атаки типа "злоумышленник в среде".

**Что такое атака типа "злоумышленник в середине"?**
Во время атаки типа "злоумышленник в середине" злоумышленник перенаправляет трафик между двумя пользователями через свой компьютер, не имея информации об этих двух взаимодействующих пользователях. Все участвующие в таком взаимодействии пользователи невольно обмениваются трафиком со злоумышленником, думая, что взаимодействуют только с предполагаемым пользователем.

**Что такое "цифровой сертификат"?**
При [шифровании с помощью открытого ключа](http://technet.microsoft.com/library/aa998077) один из ключей, называемый "закрытым ключом", должен храниться в секрете. Другой ключ, называемый "открытым ключом", предназначен для обмена с другими пользователями. Однако у владельца данного ключа должна быть возможность сообщить другим пользователям, кому он принадлежит. [Цифровые сертификаты](http://technet.microsoft.com/en-us/library/cc962029.aspx) предоставляют такую возможность. Цифровой сертификат - это электронное средство проверки подлинности, которое используется для подтверждения личности пользователей и проверки подлинности организаций и компьютеров в сети. Цифровые сертификаты содержат открытый ключ и все его данные, включая информацию о владельце, целях использования, сроке действия и т.д.

**Как подготовиться к данному выпуску?**
См. раздел **Рекомендуемые действия**, в котором перечислены этапы подготовки к развертыванию данного обновления.

**Когда корпорация Майкрософт выпустит данное обновление в Центре обновления Майкрософт?**
Майкрософт планирует сделать это обновление доступным в Центре обновления в октябре 2012 г.

**Что** **делает обновление KB2661254?**
Во всех поддерживаемых выпусках Microsoft Windows обновление KB2661254 требует, чтобы длина ключей RSA составляла 1024 бит и более. Это обновление не затрагивает сертификаты, использующие алгоритмы шифрования, отличные от RSA. Продукты Майкрософт или продукты сторонних производителей, в которых реализована функция [CertGetCertificateChain](http://msdn.microsoft.com/library/windows/desktop/aa376078.aspx), больше не будут определять сертификаты с длиной ключа RSA менее 1024 бит как доверенные. Эта функция создает контекстную цепочку сертификата, начиная с конечного сертификата и заканчивая корневым сертификатом (если это возможно). При проверке цепочки проверяется длина ключа RSA каждого сертификата, которая должна составлять не менее1024 бит. Если длина ключа какого-либо из проверяемых сертификатов имеет меньшее значение, конечный сертификат не будет считаться доверенным.

Кроме того, в данном обновлении можно настроить регистрацию событий блокировки сертификатов обновлением. Дополнительные сведения о включении этой функции ведения журнала см. в разделе **Рекомендуемые действия** данного выпуска советов. Весь список сценариев, с помощью которых это обновление блокирует использование ключей RSA длиной менее 1024 бит, см. в [статье 2661254 базы знаний Майкрософт](http://support.microsoft.com/kb/2661254).

**Применимо ли данное обновление к Windows 8 Release Preview или Windows Server 2012 Release Candidate?**
Нет. Это обновление не применяется к Windows 8 Release Preview или Windows Server 2012 Release Candidate, поскольку эти операционные системы уже включают в себя соответствующие требования к длине ключей RSA (1024 бит или более).

**Что следует предпринять в случае обнаружения сертификата с ключом RSA длиной менее 1024 бит** **?**
В случае обнаружения любых сертификатов с длиной ключа RSA менее 1024 бит пользователи должны запросить новые сертификаты с большей длиной ключа в соответствующем центре сертификации. Пользователям, работающим в собственных средах PKI, необходимо создать новые пары ключей с большей длиной и выпустить новые сертификаты на основе этих ключей. Пользователям следует провести проверку текущих требований к шифрованию данных с использованием ключа достаточной длины на предмет соответствия минимально допустимому значению, устанавливаемому данным обновлением.

**Что такое центр сертификации (ЦС)?**
Центр сертификации отвечает за подтверждение личности пользователей, а также за подтверждение подлинности компьютеров и организаций. Центр сертификации выполняет аутентификацию всех объектов и подтверждает их подлинность выпуском сертификата с цифровой подписью. Центр сертификации также может управлять сертификатами и осуществлять отзыв и обновление сертификатов.

В роли центра сертификации могут выступать:

-   организация, подтверждающая личность пользователя
-   сервер, используемый организацией для выпуска сертификатов и управления ими

Предлагаемые действия
---------------------

<span></span>
**Для всех поддерживаемых выпусков Microsoft Windows**

У большинства клиентов включено автоматическое обновление, поэтому нет необходимости предпринимать какие-либо действия: данное обновление для системы безопасности загрузится и установится автоматически. Клиентам, у которых не включено автоматическое обновление, необходимо проверить наличие обновлений и установить это обновление вручную. Дополнительные сведения об особых параметрах конфигурации автоматического обновления см. в [статье 294871 базы знаний Майкрософт](http://support.microsoft.com/kb/294871).

Для административных и корпоративных установок или конечных пользователей, желающих установить обновление KB2661254 вручную, Microsoft рекомендует загрузить обновление и оценить влияние требований к длине ключа RSA сертификатов 1024 бита и более. См. в [статье 2661254 базы знаний Майкрософт](http://support.microsoft.com/kb/2661254) ссылки для загрузки пакетов обновления или поиска [каталога Центра обновления Майкрософт](http://go.microsoft.com/fwlink/?linkid=96155) для пакетов обновления.

Администраторам и для корпоративных установок необходимо выполнить проверку среды на наличие сертификатов с ключами RSA, длина который менее 1024 бит, и заново выпустить эти сертификаты. Более подробные сведения о приложениях и службах, затронутых этим обновлением, см. в [статье 2661254 базы знаний Майкрософт](http://support.microsoft.com/kb/2661254).

Пользователям, успешно установившим исходное обновление KB2661254 ранее 9 октября 2012 г., требуется установить новые версии пакетов обновлений для предотвращении проблемы с цифровыми сертификатами, описанными в [Советах по безопасности (Microsoft) (2749655)](http://technet.microsoft.com/security/advisory/2749655). Дополнительные сведения см. в разделе "Часто задаваемые вопросы".

#### Дополнительные рекомендации

-   **Определите используемые на предприятии сертификаты RSA с ключами длиной менее 1024**

    См. в [статье 2661254 базы знаний Майкрософт](http://support.microsoft.com/kb/2661254) подробные инструкции по поиску сертификатов RSA, используемых на предприятии.

-   **Изучите статью базы знаний Майкрософт 2661254, в которой описаны сценарии блокирования сертификатов данным обновлением**

    Изучите [статью базы знаний Майкрософт 2661254](http://support.microsoft.com/kb/2661254), в которой приведен список сценариев, с помощью которых данное обновление блокирует сертификаты с длиной ключа RSA менее 1024 бит.

-   **Включите ведение журнала сертификатов, чтобы выявить используемые сертификаты с длиной ключа** **RSA менее 1024 бит**

    По умолчанию ведение журнала не включено. Ведение журнала можно включить, чтобы помочь идентифицировать использование ключей RSA длиной менее 1024 бит, задав в реестре каталог журналов.

    **Внимание!** Неправильное использование редактора реестра может привести к серьезным проблемам, которые могут потребовать переустановки операционной системы. Корпорация Майкрософт не может гарантировать, что вы сумеете устранить проблемы, возникшие вследствие неправильного использования редактора реестра. Ответственность за использование редактора реестра несет пользователь.

    `Редактор реестра Windows версии 5.00 [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Cryptography\OID\EncodingType 0\CertDllCreateCertificateChainEngine\Config] " WeakSignatureLogDir"`

    Для применения данного файла .reg на отдельной системе дважды щелкните его. Его также можно применить ко всем компьютерам домена, используя групповую политику. Дополнительные сведения о групповой политике см. в статье [Основные средства и параметры групповой политики](http://go.microsoft.com/fwlink/?linkid=215719).

    **Побочные эффекты применения временного решения:** Включение ведения журнала в производственной системе может вызвать проблемы с производительностью, поэтому следует соблюдать осторожность. Специальное внимание следует уделить каталога, в котором включено ведение журнала, чтобы избежать заполнения тома. Этот каталог также необходимо настроить, чтобы разрешить запись в него всем соответствующим системам. Никогда не разрешайте анонимным пользователям запись в общие ресурсы организации.

-   **Защитите свой компьютер**

    Корпорация Майкрософт рекомендует следовать указаниям по применению брандмауэра, антивирусных программ и обновлений программного обеспечения, опубликованным на веб-сайте "Защитите свой компьютер". Для получения дополнительных сведений см. веб-сайт [Центра безопасности Майкрософт](http://www.microsoft.com/security/default.aspx).

-   **Своевременно обновляйте программное обеспечение Майкрософт**

    Все пользователи программного обеспечения Windows должны применять последние обновления для системы безопасности, чтобы максимально защитить компьютеры. Если вы не уверены в том, что программное обеспечение обновлено, посетите веб-сайт [Центра обновления Майкрософт](http://go.microsoft.com/fwlink/?linkid=40747), выполните поиск необходимых обновлений и установите все предложенные высокоприоритетные обновления. Если функция автоматического обновления включена и настроена на загрузку обновлений для продуктов Майкрософт, такие обновления доставляются по мере выпуска, однако следует убедиться в их установке.

### Прочие сведения

#### Обратная связь

-   Свои вопросы, отзывы, пожелания и предложения вы можете направить, заполнив специальную форму на [контактной странице службы поддержки клиентов](https://support.microsoft.com/common/survey.aspx?scid=sw;en;1257&showpage=1&ws=technet&sd=tech) веб-сайта справки и поддержки Майкрософт.

#### Поддержка

-   Пользователи из США и Канады могут обратиться в [службу поддержки по вопросам безопасности](http://go.microsoft.com/fwlink/?linkid=21131). Дополнительные сведения о вариантах поддержки см. на веб-странице [справки и поддержки корпорации Майкрософт](http://support.microsoft.com/).
-   Пользователям в других странах для получения поддержки следует обращаться в местные представительства корпорации Майкрософт. Дополнительные сведения об обращении в Майкрософт по вопросам поддержки в различных регионах см. на [веб-сайте международной поддержки](http://go.microsoft.com/fwlink/?linkid=21155).
-   Веб-сайт [Microsoft TechNet](http://go.microsoft.com/fwlink/?linkid=21132) содержит дополнительные сведения о средствах безопасности, реализованных в продуктах Майкрософт.

#### Заявление об отказе

Сведения в данном документе предоставляются «как есть», без каких-либо гарантий. Корпорация Майкрософт не предоставляет каких-либо гарантий, явных или подразумеваемых, включая любые гарантии товарности или пригодности для использования в определенных целях. Корпорация Майкрософт и ее поставщики ни при каких обстоятельствах не несут ответственности за возможный ущерб, включая косвенный, случайный, прямой, опосредованный и специальный ущерб, а также упущенную выгоду, даже если корпорация Майкрософт или ее поставщики заранее были извещены о возможности такого ущерба. Если действующее законодательство не допускает отказа от ответственности за косвенный или случайный ущерб, то описанные выше ограничения не действуют.

#### Редакции

-   Вер. 1.0 (14 августа 2012 г.): Рекомендации опубликованы.
-   Вер. 1.1 (14 августа 2012 г.): В раздел "Аннотация" внесено исправление, поясняющее, что после установки данного обновления пользователям необходимо использовать сертификаты с длиной ключа RSA равной или превышающей 1024 бит.
-   Вер. 1.2 (11 сентября 2012): Добавлено объяснение, что это обновление затрагивает приложения и службы, использующие ключи RSA для шифрования и вызова функции CertGetCertificateChain. Среди таких приложений и служб, в частности, электронная почта с шифрованием, каналы шифрования SSL/TLS, подписанные приложения и среды PKI с закрытыми ключами.
-   Вер. 2.0 (9 октября 2012 г.): Выпущена новая редакция советов по безопасности, чтобы предложить новую версию обновления KB2661254 для Windows XP и объявить, что обновление KB2661254 для всех поддерживаемых версий Microsoft Windows теперь предлагается через автоматическое обновление. Пользователям, уже установившим обновление KB2661254, никаких действий выполнять не требуется. Дополнительные сведения см. в разделе часто задаваемых вопросов об обновлении.

*Built at 2014-04-18T01:50:00Z-07:00*
