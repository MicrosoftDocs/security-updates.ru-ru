---
TOCTitle: 954462
Title: 'Советы по безопасности (Microsoft) 954462'
ms:assetid: 954462
ms:contentKeyID: 61235954
ms:mtpsurl: 'https://technet.microsoft.com/ru-RU/library/954462(v=Security.10)'
---

Security Advisory

Советы по безопасности (Microsoft) 954462
=========================================

Увеличение количества атак путем внедрения кода SQL, использующих уязвимости непроверенных данных, которые вводятся пользователями
----------------------------------------------------------------------------------------------------------------------------------

Дата публикации: 24 июня 2008 г.

Корпорации Майкрософт стало известно о недавнем увеличении количества атак на веб-узлы пользователей, которые применяют технологии Microsoft ASP и ASP.NET, но не выполняют рекомендации по обеспечению безопасности при разработке веб-приложений. Такие атаки путем внедрения кода SQL не используют определенные уязвимости программного обеспечения. Они нацелены на веб-узлы пользователей, которые не соблюдают рекомендации по безопасному программированию при предоставлении доступа к данным, хранящимся в реляционной базе данных, и работе с ними. При успешной атаке путем внедрения кода SQL злоумышленник может получить доступ к данным, хранящимся в этих базах, и, возможно, удаленно выполнить код. Клиенты, просматривающие страницы на сервере, который подвергся такой атаке, могут без ведома быть перенаправлены на вредоносные веб-узлы, с которых на их компьютере будут установлены вредоносные программы.

**Факторы, снижающие опасность**

Веб-приложения, которые созданы с учетом советов и рекомендаций по обеспечению безопасности при разработке и осуществляют проверку данных, вводимых пользователем, не подвержены этой уязвимости.

### Общие сведения

Обзор
-----

<span></span>
**Назначение рекомендаций:** помощь администраторам в выявлении и исправлении кода уязвимых веб-приложений ASP и ASP.NET, в которых не соблюдены рекомендации по безопасной разработке.

**Состояние рекомендаций:** опубликованы советы корпорации Майкрософт по безопасности и соответствующие средства.

**Рекомендация:** Ознакомьтесь с предложенными действиями и при необходимости выполните их. Также администраторам серверов рекомендуется оценить эффективность рассматриваемых средств и пользоваться ими в случае необходимости.

В данных рекомендациях обсуждается следующее программное обеспечение.

|                                    |
|------------------------------------|
| Затронутое программное обеспечение |
| Технологии Microsoft ASP и ASP.NET |

Вопросы и ответы
----------------

<span></span>
**Какова область действия данных советов?**
Этот совет позволяет администраторам веб-узлов выявлять возможные проблемы, связанные с уязвимостью веб-приложений для атак путем внедрения кода SQL, и предоставляет временное решение по снижению опасности этих атак для сервера, пока приложения исправляются.

**Требует ли эта уязвимость выпуска обновления для системы безопасности корпорацией Майкрософт?**
Нет. Любое веб-приложение, разработанное с учетом рекомендаций по обеспечению безопасности, значительно меньше подвержено атакам путем внедрения кода SQL. Хотя эта проблема не связана с уязвимостью в системе безопасности, совет опубликован, чтобы дополнительно предупредить администраторов уязвимых веб-узлов и помочь им.

**В чем причина угрозы?**
Неправильная проверка данных, вводимых пользователем, может позволить злоумышленнику внедрить в поля для ввода команды SQL, которые в дальнейшем могут быть выполнены в источнике данных, что приведет к повреждению базы данных или удаленному выполнению кода на сервере.

**Что может сделать злоумышленник, воспользовавшись этой функцией?**
Воспользовавшись уязвимостью на веб-страницах, которые были созданы без учета рекомендаций по обеспечению безопасности при разработке веб-приложений, злоумышленник может осуществить автоматическую атаку путем внедрения кода SQL. После успешной атаки на веб-узел злоумышленник может выполнить множество вредоносных действий на сервере, например, удалить базу данных и перенаправить клиентов, просматривающих страницы на этом сервере, на вредоносные веб-узлы, с которых на их компьютерах могут быть установлены вредоносные программы.

Предлагаемые действия
---------------------

<span></span>
В помощь администраторам корпорация Майкрософт предлагает несколько средств. Они предназначены для обнаружения, защиты и выявления программного кода, которым может воспользоваться злоумышленник.

-   **Обнаружение — HP Scrawlr**

    Компания Hewlett Packard разработала бесплатное средство проверки, с помощью которого можно выявлять веб-узлы, уязвимые для атак путем внедрения кода SQL. Сведения об этом средстве и его поддержке см. в разделе [Выявление атак путем внедрения кода SQL с помощью средства Scrawlr](http://www.communities.hp.com/securitysoftware/blogs/spilabs/archive/2008/06/23/finding-sql-injection-with-scrawlr.aspx) на веб-узле [HP Security Center](http://www.communities.hp.com/securitysoftware/%20(на%20английском%20языке)).

    **Подробное описание.**
    Это средство представляет собой своеобразный "черный ящик" для анализа (т. е. не требует исходный код). Пользователь вводит начальный URL-адрес, а средство выполняет указанные ниже действия.

    -   Производит рекурсивную проверку этого URL-адреса на наличие гиперссылок для построения дерева узла.
    -   Проверяет все обнаруженные ссылки на наличие внедрений кода SQL путем отправки HTTP-запросов, содержащих в полях формы строки из атаки путем внедрения кода SQL, параметры строки запроса и значения файлов Cookie.
    -   Изучает HTTP-ответы от сервера на наличие сообщений об ошибках SQL, которые могут свидетельствовать о наличии уязвимости для атаки путем внедрения кода SQL.
    -   Создает отчет о любых найденных страницах, которые могут быть уязвимыми для пользователя, а также о соответствующих полях для ввода данных. Например, средство может сообщить о том, что поля "Имя пользователя" и "Пароль" на странице foo.asp являются уязвимыми.

-   **Защита — UrlScan 3.0 (бета-версия)**

    Бета-версия средства UrlScan 3.0 — это средство обеспечения безопасности Майкрософт, ограничивающее типы HTTP-запросов, которые могут обрабатывать службы IIS. Путем блокировки определенных HTTP-запросов средство UrlScan препятствует получению веб-приложением на сервере потенциально опасных запросов. Для установки средства UrlScan 3.0 требуются службы IIS 5.1 и более поздних версий, в том числе IIS 7.0. Средство UrlScan 3.0 находится на следующем веб-узле: [Средство URLScan 3.0 (бета-версия)](http://learn.iis.net/page.aspx/473/using-urlscan%20(на%20английском%20языке)).
    **Подробное описание.**
    Средство UrlScan 3.0 позволяет применять различные правила для улучшения защиты веб-приложений на серверах от атак путем внедрения кода SQL. Это указанные ниже возможности.

    -   Возможность создания запрещающих правил, применяемых к каждому URL-адресу, строке запроса, ко всем или определенным заголовкам и любой комбинации перечисленного.
    -   В глобальном разделе DenyQueryString можно добавить запрещающие правила для строк запроса, а также возможность проверки версий строк запроса, не являющихся escape-версиями.
    -   Возможность использования escape-последовательностей в запрещающих правилах для запрета кода CRLF и других последовательностей непечатаемых знаков в конфигурации.
    -   В качестве фильтров узла можно установить несколько экземпляров средства UrlScan, задав для каждого индивидуальную конфигурацию и параметры ведения журнала (в файле urlscan.ini).
    -   Уведомления об изменении конфигурации (urlscan.ini) будут унаследованы рабочими процессами без необходимости их перезапуска. Однако это не распространяется на параметры ведения журнала.
    -   Улучшенное ведение журнала предоставляет дополнительные сведения об ошибках конфигурации.

-   **Выявление — средство анализа исходного кода на наличие внедрений кода SQL**

    Корпорацией Майкрософт разработано средство анализа исходного кода SQL. Его можно использовать для обнаружения кода ASP, который уязвим для атак путем внедрения кода SQL. Это средство описано в [статье 954476 базы знаний Майкрософт](http://support.microsoft.com/kb/954474%20(на%20английском%20языке)).

    **Подробное описание.**

    Средство анализа исходного кода на наличие внедрений кода SQL представляет собой автономное средство, которое пользователи могут запускать для проверки собственного исходного кода ASP. В дополнение к средству предлагается документация, в которой описаны способы исправления ошибок, найденных при анализе кода. Ниже перечислены основные функции этого средства.

    -   Сканирование исходного кода ASP на наличие уязвимостей для внедрения кода SQL.
    -   Создание выходных данных, которые дают представление о проблеме в коде.
    -   Это средство позволяет определять уязвимости только в классическом коде ASP. Оно не позволяет анализировать код ASP.NET.

-   **Дополнительная информация**

    Корпорация Майкрософт также предлагает дополнительные ресурсы, которые помогут администраторам в обнаружении и устранении проблем, связанных с этой уязвимостью.

    -   Ссылки на другие документы, в которых содержатся сведения об атаках путем внедрения кода SQL, а также рекомендации по программированию.

        [Защита сервера SQL Server от внедрения кода SQL (на английском языке)](http://msdn.microsoft.com/en-us/library/aa224806.aspx)

        [Предотвращение внедрения кода SQL на ASP-страницах (на английском языке)](http://msdn.microsoft.com/en-us/library/cc676512.aspx)

        [Инструкции по защите от внедрения кода SQL в ASP.NET (на английском языке)](http://msdn.microsoft.com/en-us/library/ms998271.aspx)

        [Способы программирования в ASP.NET для защиты от атак путем внедрения кода SQL (на английском языке)](http://forums.asp.net/t/1254125.aspx)

        [Фильтрация внедрений кода SQL в классическом ASP-коде (на английском языке)](http://blogs.iis.net/nazim/archive/2008/04/28/filtering-sql-injection-from-classic-asp.aspx)

        [Блог по изучению уязвимостей системы безопасности для атак путем внедрения кода SQL и защите от них (на английском языке)](http://blogs.technet.com/swi/archive/2008/05/29/sql-injection-attack.aspx)

### Прочие сведения

Пользователи из США и Канады, подозревающие, что их системы подвержены этой уязвимости, могут обратиться в службу технической поддержки Майкрософт по телефону 1-866-PCSAFETY. Звонки, связанные с обновлениями безопасности и вирусами, обслуживаются бесплатно. Пользователи в других странах могут получить поддержку, воспользовавшись любым из способов, перечисленных на веб-узле [справки и поддержки Microsoft](http://support.microsoft.com?ln=ru).
Необходимо применять самые последние обновления безопасности, выпущенные корпорацией Майкрософт, чтобы гарантировать защиту компьютера от попыток воспользоваться уязвимостью. Пользователи, включившие функцию автоматического обновления, будут получать все обновления системы Windows автоматически. Дополнительные сведения об обновлениях для системы безопасности см. на веб-узле [Центра безопасности Microsoft](http://www.microsoft.com/security/default.mspx).

**Источники:**

-   Чтобы оставить отзыв, заполните форму на странице веб-узла [справки и поддержки корпорации Майкрософт, предназначенной для обратной связи](https://support.microsoft.com/common/survey.aspx?scid=sw;en;1257&amp;showpage=1&amp;ws=technet&amp;sd=tech).
-   Жители США и Канады могут обратиться в [службу технической поддержки корпорации Майкрософт](http://go.microsoft.com/fwlink/?linkid=21131). Дополнительные сведения о вариантах поддержки см. на веб-узле [справки и поддержки корпорации Майкрософт](http://support.microsoft.com?ln=ru).
-   Пользователям в других странах для получения поддержки следует обращаться в местные представительства корпорации Майкрософт. Дополнительные сведения о том, как связаться со службой корпорации Майкрософт по вопросам поддержки в различных регионах, см. на [веб-узле международной поддержки](http://go.microsoft.com/fwlink/?linkid=21155).
-   Веб-узел [Microsoft TechNet](http://go.microsoft.com/fwlink/?linkid=21132) (на английском языке) содержит дополнительные сведения о средствах безопасности в продуктах Майкрософт.

**Отказ от гарантий:**

Сведения в данном документе предоставляются «как есть», без каких-либо гарантий. Корпорация Майкрософт не предоставляет каких-либо гарантий, явных или подразумеваемых, включая любые гарантии товарности или пригодности для использования в определенных целях. Корпорация Майкрософт и ее поставщики ни при каких обстоятельствах не несут ответственности за возможный ущерб, включая косвенный, случайный, прямой, опосредованный и специальный ущерб, а также упущенную выгоду, даже если корпорация Майкрософт или ее поставщики заранее были извещены о возможности такого ущерба. Если действующее законодательство не допускает отказа от ответственности за косвенный или случайный ущерб, то описанные выше ограничения не действуют.

**Редакции:**

-   24 июня 2008 г: советы опубликованы

*Built at 2014-04-18T01:50:00Z-07:00*
